const H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};H();const T={bank:"fleeca",hasEnterprise:!0,hasOffshore:!0,account:{personal:{owner:"Garry Green",number:"0123456789",balance:48569,theme:"dark",favoriteAccounts:[{name:"Lena Silvo",number:"0123456789"},{name:"Owen Chapman",number:"1234567890"},{name:"Pamela Padilla",number:"2345678901"},{name:"Garry Green",number:"3456789012"},{name:"Quentin Cooper",number:"4567890123"}],logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},enterprise:{owner:"Arthur Popov",balance:485321,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},offshore:{owner:"Quentin Cooper",balance:4123547,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]}}},F=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0}),Q=new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"});function K(t){switch(t){case"fleeca":document.documentElement.classList.add("fleeca");break;case"maze":document.documentElement.classList.add("maze");break;default:throw new Error("The theme is not valid")}}K(T.bank);function j(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer un nom":t.validity.tooLong?e.textContent="Le nom ne doit pas exeder 40 caract\xE8res":e.textContent="Il y a une erreur",!1)}function W(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer un num\xE9ro de compte":t.validity.tooShort||t.validity.tooLong?e.textContent="Le num\xE9ro de compte doit comporter 10 chiffres":t.validity.patternMismatch?e.textContent="Le num\xE9ro de compte ne comporte que des chiffres":e.textContent="Il y a une erreur",!1)}function f(t,e){if(t.validity.valid){if(Number(t.value)<50)return e.textContent="Le montant doit \xEAtre sup\xE9rieur o\xF9 \xE9gale \xE0 50$",!1}else return t.validity.valueMissing?e.textContent="Veuillez entrer un montant":t.validity.patternMismatch?e.textContent="Le montant ne doit comporter que des chiffres":e.textContent="Il y a une erreur",!1;return e.textContent.length>0&&(e.textContent=""),!0}function _(t,e,n){const a=Number(t.value);return n<a?(e.textContent="Vous n'avez pas les fonds n\xE9cessaires",!1):!0}function J(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer la r\xE9f\xE9rence du transfert":t.validity.tooLong?e.textContent="La r\xE9f\xE9rence du transfert ne doit exeder 40 caract\xE8res":e.textContent="Il y a une erreur",!1)}const X=document.getElementById("log-template"),I=10;class z{constructor(e,n){this.logList=n,this.logs=e,this.page=1,this.observer=new IntersectionObserver(a=>this.getNextPage(a)),this.observedLog=!1,this.getPageNumber(),this.getPageLogs(),this.createPageLogs()}addLog(e){this.logs.unshift(e),this.resetList()}createLog(e,n=!1,a=!1){const o=X.content.cloneNode(!0),r=o.querySelector(".log"),i=r.querySelector(".log__icon"),l=r.querySelector(".log__type"),c=r.querySelector(".log__date"),h=r.querySelector(".log__amount"),v=r.querySelector(".log__reference");i.classList.add(`log__icon--${e.type}`),h.classList.add(`log__amount--${e.amount>0?"up":"down"}`),l.textContent=e.label,c.textContent=Q.format(new Date(e.date)),h.textContent=F.format(e.amount),v.textContent=e.reference,n?this.logList.prepend(o):this.logList.appendChild(o),a&&(this.observedLog=r,this.observer.observe(r))}createPageLogs(){this.observedLog&&(this.observer.unobserve(this.observedLog),this.observedLog=!1),this.pageLogs.forEach((e,n)=>{const a=n===this.pageLogs.length-1,o=this.page<this.pageNumber;a&&o?this.createLog(e,!1,!0):this.createLog(e)})}getNextPage(e){e[0].isIntersecting&&(this.page+=1,this.getPageLogs(),this.createPageLogs())}getPageNumber(){const e=this.logs.length;this.pageNumber=Math.ceil(e/I)}getPageLogs(){const e=I*(this.page-1),n=I*this.page;this.pageLogs=this.logs.slice(e,n)}resetList(){this.logList.innerHTML="",this.page=1,this.getPageLogs(),this.createPageLogs()}}const R=document.getElementById("account-delete-list"),Y=document.getElementById("account-delete-template"),N=document.getElementById("account-paste-list"),Z=document.getElementById("account-paste-template"),ee=document.getElementById("personal-favorite-account-sum-text"),p=document.getElementById("personal-favorite-account-form-button"),te=5;class ne{constructor(e){this.accounts=e,this.createList(),this.handleAddButton()}addAccount(e){if(this.accounts.length<te)this.accounts=[e,...this.accounts],this.resetList();else throw new Error("Account limit is reached")}deleteAccount(e){this.accounts=this.accounts.filter(n=>n.number!==e.number),this.resetList()}createDeleteAccount(e){const n=Y.content.cloneNode(!0),a=n.querySelector(".account"),o=a.querySelector(".account__name"),r=a.querySelector(".account__number"),i=a.querySelector(".account__text-button");o.textContent=e.name,r.textContent=e.number,i.addEventListener("click",()=>{this.deleteAccount(e)},{once:!0}),R.appendChild(n)}createPasteAccount(e){const n=Z.content.cloneNode(!0),a=n.querySelector(".account"),o=a.querySelector(".account__name"),r=a.querySelector(".account__number");o.textContent=e.name,r.textContent=e.number,a.addEventListener("click",()=>{E.value!==e.number&&(E.value=e.number)}),N.appendChild(n)}createList(){this.accounts.forEach(e=>{this.createDeleteAccount(e),this.createPasteAccount(e)})}resetList(){R.innerHTML="",N.innerText="",this.createList(),this.handleAddButton()}handleAddButton(){const e=this.accounts.length;ee.textContent=`[${String(e)}/5]`,e>=5?p.classList.contains("button--primary")&&(p.classList.replace("button--primary","button--disabled"),p.setAttribute("disabled","")):p.classList.contains("button--disabled")&&(p.classList.replace("button--disabled","button--primary"),p.removeAttribute("disabled"))}}const G=document.getElementById("personal-theme-button");class B{constructor(e,n,a,o){this.owner=e.owner,this.ownerElement=n,this.balance=e.balance,this.balanceElement=a,this.logList=new z(e.logs,o),this.displayOwner(),this.displayBalance()}displayOwner(){this.ownerElement.textContent=this.owner}displayBalance(){this.balance<1?this.balanceElement.classList.contains("section__number--up")?this.balanceElement.classList.replace("section__number--up","section__number--down"):this.balanceElement.classList.contains("section__number--down")||this.balanceElement.classList.add("section__number--down"):this.balanceElement.classList.contains("section__number--down")?this.balanceElement.classList.replace("section__number--down","section__number--up"):this.balanceElement.classList.contains("section__number--up")||this.balanceElement.classList.add("section__number--up"),this.balanceElement.textContent=F.format(this.balance)}}class ae extends B{constructor(e,n,a,o,r,i){super(e,n,a,o),this.number=e.number,this.numberElement=r,this.theme=e.theme,this.theme==="dark"&&(G.checked=!0,document.documentElement.classList.add("dark")),this.favoriteAccountList=new ne(e.favoriteAccounts),this.operationLogList=new z(e.logs.filter(l=>l.type==="operation"),i),this.displayNumber()}displayNumber(){this.numberElement.textContent=this.number}displayBalance(){this.balance<1?this.balanceElement.classList.contains("balance__value--down")||this.balanceElement.classList.add("balance__value--down"):this.balanceElement.classList.contains("balance__value--down")&&this.balanceElement.classList.remove("balance__value--down"),this.balanceElement.textContent=F.format(this.balance)}}class oe{constructor(...e){this.tabs=e,this.activeTab=e[0],this.listenTabs()}addTab(e){this.tabs=[...this.tabs,e],this.listenTab(e)}setActiveTab(e){this.activeTab.deactivate(),this.activeTab=e,this.activeTab.activate()}listenTab(e){e.inputElt.addEventListener("change",()=>{this.setActiveTab(e)})}listenTabs(){this.tabs.forEach(e=>{this.listenTab(e)})}}class y{constructor(e,n,a){this.containerElt=e,this.inputElt=n,this.viewElt=a}activate(){this.containerElt.classList.add("tab-list__item--active"),this.viewElt.classList.add("view--active")}deactivate(){this.containerElt.classList.remove("tab-list__item--active"),this.viewElt.classList.remove("view--active")}remove(){this.containerElt.remove(),this.viewElt.remove()}}class re extends y{constructor(e,n,a){super(e,n,a)}activate(){this.viewElt.classList.add("view--active")}deactivate(){this.viewElt.classList.remove("view--active")}}const se=document.getElementById("personal-deposit-form"),ie=document.getElementById("personal-withdraw-form"),ce=document.getElementById("personal-transfer-form"),O=document.getElementById("personal-deposit-amount-input"),le=document.getElementById("personal-deposit-amount-message"),A=document.getElementById("personal-withdraw-amount-input"),P=document.getElementById("personal-withdraw-amount-message"),C=document.getElementById("personal-transfer-amount-input"),S=document.getElementById("personal-transfer-amount-message"),E=document.getElementById("personal-transfer-account-number-input"),ue=document.getElementById("personal-transfer-account-number-message"),V=document.getElementById("personal-transfer-reference-input"),me=document.getElementById("personal-transfer-reference-message"),de=document.getElementById("personal-favorite-account-form"),k=document.getElementById("personal-favorite-account-name-input"),pe=document.getElementById("personal-favorite-account-name-message"),M=document.getElementById("personal-favorite-account-number-input"),fe=document.getElementById("personal-favorite-account-number-message"),be=document.getElementById("personal-tab"),he=document.getElementById("personal-tab-input"),ge=document.getElementById("personal-tab-view"),ye=document.getElementById("personal-operation-tab"),ve=document.getElementById("personal-operation-tab-input"),Te=document.getElementById("personal-operation-tab-view"),Ee=document.getElementById("personal-transfer-tab"),Le=document.getElementById("personal-transfer-tab-input"),we=document.getElementById("personal-transfer-tab-view"),Ie=document.getElementById("enterprise-tab"),Ae=document.getElementById("enterprise-tab-view"),Ce=document.getElementById("offshore-tab"),Be=document.getElementById("offshore-tab-view");function b(){return new Date().toISOString()}const Fe=new y(be,he,ge),_e=new y(ye,ve,Te),xe=new y(Ee,Le,we),q=new oe(Fe,_e,xe),s=new ae(T.account.personal,document.getElementById("personal-account-owner"),document.getElementById("personal-account-balance"),document.getElementById("personal-account-log-list"),document.getElementById("personal-account-number"),document.getElementById("personal-account-operation-log-list"));function De(t){s.theme=t.target.checked?"dark":"light",s.theme==="dark"?document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"):document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark")}function Re(t){t.preventDefault();const e=j(k,pe),n=W(M,fe);if(e&&n){const a={name:k.value,number:M.value};s.favoriteAccountList.addAccount(a)}}function Ne(t){if(t.preventDefault(),f(O,le)){const n=Number(O.value),a={label:"D\xE9pot",amount:n,date:b(),reference:"D\xE9pot sur votre compte",type:"operation"};s.logList.addLog(a),s.operationLogList.addLog(a),s.balance+=n,s.displayBalance()}}function Oe(t){t.preventDefault();const e=f(A,P),n=e?_(A,P,s.balance):!1;if(e&&n){const a=Number(A.value),o={label:"Retrait",amount:-a,date:b(),reference:"Retrait depuis votre compte",type:"operation"};s.logList.addLog(o),s.operationLogList.addLog(o),s.balance-=a,s.displayBalance()}}function Pe(t){t.preventDefault();const e=f(C,S),n=e?_(C,S,s.balance):!1,a=W(E,ue),o=J(V,me);if(e&&n&&a&&o){const r=Number(C.value);E.value;const i=V.value,l={label:"Transfert",amount:-r,date:b(),reference:i,type:"operation"};s.logList.addLog(l),s.balance-=r,s.displayBalance()}}G.addEventListener("change",De);de.addEventListener("submit",Re);se.addEventListener("submit",Ne);ie.addEventListener("submit",Oe);ce.addEventListener("submit",Pe);{let h=function(g){if(g.preventDefault(),f(n,a)){const m=Number(n.value),d={label:"D\xE9pot",amount:m,date:b(),reference:"D\xE9pot sur votre compte",type:"operation"};c.logList.addLog(d),c.balance+=m,c.displayBalance()}},v=function(g){g.preventDefault();const u=f(o,r),m=u?_(o,r,c.balance):!1;if(u&&m){const d=Number(o.value),L={label:"Retrait",amount:-d,date:b(),reference:"Retrait depuis votre compte",type:"operation"};c.logList.addLog(L),c.balance-=d,c.displayBalance()}};var handleEnterpriseDepositForm=h,handleEnterpriseWithdrawForm=v;const t=document.getElementById("enterprise-deposit-form"),e=document.getElementById("enterprise-withdraw-form"),n=document.getElementById("enterprise-deposit-amount-input"),a=document.getElementById("enterprise-deposit-amount-message"),o=document.getElementById("enterprise-withdraw-amount-input"),r=document.getElementById("enterprise-withdraw-amount-message"),i=document.getElementById("enterprise-tab-input"),l=new y(Ie,i,Ae);q.addTab(l);const c=new B(T.account.enterprise,document.getElementById("enterprise-account-owner"),document.getElementById("enterprise-account-balance"),document.getElementById("enterprise-account-log-list"));t.addEventListener("submit",h),e.addEventListener("submit",v);{let x=function($){if($.preventDefault(),f(u,m)){const D=Number(u.value),U={label:"D\xE9pot",amount:D,date:b(),reference:"D\xE9pot sur votre compte",type:"operation"};w.logList.addLog(U),w.balance+=D,w.displayBalance()}};var handleOffshoreDepositForm=x;const g=document.getElementById("offshore-deposit-form"),u=document.getElementById("offshore-deposit-amount-input"),m=document.getElementById("offshore-deposit-amount-message"),d=document.getElementById("offshore-tab-input"),L=new re(Ce,d,Be);q.addTab(L);const w=new B(T.account.offshore,document.getElementById("offshore-account-owner"),document.getElementById("offshore-account-balance"),document.getElementById("offshore-account-log-list"));g.addEventListener("submit",x)}}const Se=document.getElementById("app");setTimeout(()=>{Se.classList.replace("app--loading","app--loaded")},1e3);
