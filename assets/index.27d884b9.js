const ge=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}};ge();const y={bank:"fleeca",hasEnterprise:!0,hasOffshore:!0,account:{personal:{owner:"Garry Green",number:"0123456789",balance:48569,cash:4e4,theme:"light",favoriteAccounts:[{name:"Lena Silvo",number:"0123456789"},{name:"Owen Chapman",number:"1234567890"},{name:"Pamela Padilla",number:"2345678901"},{name:"Garry Green",number:"3456789012"},{name:"Quentin Cooper",number:"4567890123"}],logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},enterprise:{owner:"Arthur Popov",balance:485321,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},offshore:{owner:"Quentin Cooper",balance:4123547,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]}}},be=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),ve=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0}),Ee=new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"});class P{constructor(e,t,n){this.owner=e.owner,this.ownerElement=t,this.balance=e.balance,this.balanceElement=n,this.displayOwner(),this.displayBalance()}displayOwner(){this.ownerElement.textContent=this.owner}displayBalance(){this.balance<1&&this.balanceElement.classList.replace("typography--number-positive","typography--number-negative"),this.balanceElement.textContent=be.format(this.balance)}}class we extends P{constructor(e,t,n,a){super(e,t,a),this.accountNumber=e.number,this.accountNumberElement=n,this.cash=e.cash,this.theme=e.theme,this.displayNumber()}displayNumber(){this.accountNumberElement.textContent=this.accountNumber}}const O=10;class N{constructor(e,t){this.logs=e,this.logListElement=t,this.logTemplate=document.getElementById("log-template"),this.filteredLogs=!1,this.filter=!1,this.page=1,this.observer=new IntersectionObserver(n=>this.getNextPage(n)),this.observedLogElement=!1,this.getNextPage=this.getNextPage.bind(this)}addLog(e){this.logs.unshift(e)}createLog(e){const n=this.logTemplate.content.cloneNode(!0).querySelector(".log"),a=n.querySelector(".log__icon"),s=n.querySelector('[data-name="log-label"]'),c=n.querySelector('[data-name="log-datetime"]'),g=n.querySelector('[data-name="log-amount"]'),v=n.querySelector('[data-name="log-reference"]');return a.classList.add(`log__icon--${e.type}`),g.classList.add(`typography--${e.amount>0?"number-positive":"number-negative"}`),s.textContent=e.label,c.textContent=Ee.format(new Date(e.date)),g.textContent=ve.format(e.amount),v.textContent=e.reference,n}createPageLogs(e){e.forEach((t,n)=>{const a=n===e.length-1,s=this.page<this.pageTotal,c=this.createLog(t);a&&s&&(this.observeLastPageLog(c),this.observedLogElement=c),this.logListElement.appendChild(c)})}getNextPage(e){e[0].isIntersecting&&(this.page+=1,this.unobserveLastPageLog(),this.filter?this.displayFilteredLogs():this.displayLogs())}getPageTotal(e){const t=e.length;this.pageTotal=Math.ceil(t/O)}getPageLogs(e){const t=O*(this.page-1),n=O*this.page;return e.slice(t,n)}getFilteredLogs(){return this.logs.filter(e=>e.type===this.filter)}displayInitialLogs(){this.filter?(this.filteredLogs=this.getFilteredLogs(),this.getPageTotal(this.filteredLogs),this.displayFilteredLogs()):(this.getPageTotal(this.logs),this.displayLogs())}displayFilteredLogs(){const e=this.getPageLogs(this.filteredLogs);this.createPageLogs(e)}displayLogs(){const e=this.getPageLogs(this.logs);this.createPageLogs(e)}reset(){this.clear(),this.displayInitialLogs()}clear(){this.unobserveLastPageLog(),this.logListElement.scrollTop=0,this.logListElement.innerHTML="",this.page>1&&(this.page=1)}observeLastPageLog(e){this.observedLogElement||(this.observer.observe(e),this.observedLogElement=e)}unobserveLastPageLog(){this.observedLogElement&&(this.observer.unobserve(this.observedLogElement),this.observedLogElement=!1)}}class b{constructor(e,t,n){this.inputElements=e,this.formElement=t,this.buttonElement=n,this.buttonIsActive=!1,this.CheckFieldsWithDebounce=this.debounce(()=>this.checkFields()),this.inputElements.forEach(a=>{a.addEventListener("keyup",()=>this.CheckFieldsWithDebounce())})}debounce(e,t=300){let n;return(...a)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,a)},t)}}checkFields(){const e=this.inputElements.every(t=>t.validity.valid);e&&!this.buttonIsActive?this.activateSubmitButton():!e&&this.buttonIsActive&&this.deactivateSubmitButton()}reset(){this.formElement.reset(),this.deactivateSubmitButton()}activateSubmitButton(){this.buttonIsActive=!0;const e=this.buttonElement.dataset.disabledClass,t=this.buttonElement.dataset.activeClass;this.buttonElement.classList.replace(e,t),this.buttonElement.removeAttribute("disabled")}deactivateSubmitButton(){this.buttonIsActive=!1;const e=this.buttonElement.dataset.activeClass,t=this.buttonElement.dataset.disabledClass;this.buttonElement.classList.replace(e,t),this.buttonElement.setAttribute("disabled","")}}const Le=document.getElementById("notification-template");class Te{constructor(e){this.notificationListElement=e}getNotificationIcon(e){switch(e){case"success":return"#icon-check";case"error":return"#icon-error"}}createNotification(e){const n=Le.content.cloneNode(!0).querySelector(".notification"),a=n.querySelector('[data-name="notification-name"]'),s=n.querySelector('[data-name="notification-description"]'),c=n.querySelector('[data-name="notification-icon"]'),g=this.getNotificationIcon(e.type);return c.setAttribute("href",g),n.classList.add(`notification--${e.type}`),a.textContent=e.title,s.textContent=e.description,n}deleteNotification(e){this.notificationListElement.removeChild(e)}displayNotification(e){const t=this.createNotification(e);this.notificationListElement.prepend(t),setTimeout(()=>{this.deleteNotification(t)},5e3)}}class F{constructor(e,t,n,a=!1){this.label=e,this.name=t,this.handleClick=n,this.temporary=a,this.element=this.createElement(),this.temporary&&this.activate()}createElement(){const e=document.createElement("button");return e.classList.add("typography","typography--tab","tab"),e.textContent=this.label,e.addEventListener("click",()=>{this.handleClick()}),e}activate(){this.element.classList.add("tab--active"),this.element.setAttribute("disabled","")}disable(){this.element.classList.remove("tab--active"),this.element.removeAttribute("disabled")}}class Ae{constructor(e,t){this.initialTabs=e,this.tabListElement=t,this.activeTab=e[0],this.createInitialTabs()}addTab(e){this.tabListElement.appendChild(e.element)}deleteTab(e){this.tabListElement.removeChild(e.element)}createInitialTabs(){this.initialTabs.forEach(e=>{this.tabListElement.appendChild(e.element)}),this.activeTab.activate()}setActiveTab(e){this.activeTab.temporary?this.deleteTab(this.activeTab):this.activeTab.disable(),this.activeTab=e,this.activeTab.temporary?this.addTab(this.activeTab):this.activeTab.activate()}}class x{constructor(e){this.detailsElement=e,this.titleElement=this.detailsElement.querySelector('[data-name="dropdown-title"]'),this.closeWhenClickOutside=this.closeWhenClickOutside.bind(this),this.handleChange=this.handleChange.bind(this),this.detailsElement.addEventListener("toggle",this.handleChange)}close(){this.detailsElement.removeAttribute("open")}updateLabel(e){this.titleElement.textContent=e}closeWhenClickOutside(e){this.detailsElement.contains(e.target)||this.close()}handleChange(){this.detailsElement.open?document.addEventListener("click",this.closeWhenClickOutside):document.removeEventListener("click",this.closeWhenClickOutside)}reset(){this.titleElement.textContent="filtrer les r\xE9sultats"}}class f{constructor(e,t){this.name=e,this.value=t,this.element=this.createElement()}createElement(){const e=document.createElement("button");return e.classList.add("typography","typography--body-medium","filter"),e.textContent=this.name,e}activate(){this.element.classList.add("filter--active"),this.element.setAttribute("disabled","")}disable(){this.element.classList.remove("filter--active"),this.element.removeAttribute("disabled")}}class q{constructor(e,t,n){this.filters=e,this.filterListElement=t,this.handleFilterClick=n,this.displayFilters(),this.init()}displayFilters(){this.filters.forEach(e=>{this.filterListElement.appendChild(e.element),e.element.addEventListener("click",()=>{this.setActiveFilter(e),this.handleFilterClick(e)})})}setActiveFilter(e){this.activeFilter.disable(),this.activeFilter=e,this.activeFilter.activate()}init(){this.activeFilter=this.filters[0],this.activeFilter.activate()}reset(){this.setActiveFilter(this.filters[0])}}const Fe=document.getElementById("favorite-account-normal-template"),Ce=document.getElementById("favorite-account-edit-template"),Ie=document.getElementById("favorite-account-paste-template");class ${constructor(e,t){this.name=e,this.number=t,this.normalElement=!1,this.editElement=!1,this.pasteElement=!1,this.isListenedForEditList=!1,this.isListenedForPasteList=!1}getNormalView(){if(!this.normalElement){const t=Fe.content.cloneNode(!0).querySelector(".favorite-account"),n=t.querySelector('[data-name="account-owner"]'),a=t.querySelector('[data-name="account-number"]');return n.textContent=this.name,a.textContent=this.number,this.normalElement=t,this.normalElement}return this.normalElement}getEditView(){if(!this.editElement){const e=Ce.content.cloneNode(!0);return this.editElement=e.querySelector(".favorite-account"),this.editElement}return this.editElement}getPasteView(){if(!this.pasteElement){const t=Ie.content.cloneNode(!0).querySelector(".favorite-account"),n=t.querySelector('[data-name="favorite-account-name"]'),a=t.querySelector('[data-name="favorite-account-number"]');return n.textContent=this.name,a.textContent=this.number,this.pasteElement=t,this.pasteElement}return this.pasteElement}}const Be=5;class De{constructor(e){this.favoriteAccounts=e,this.sortByNames()}sortByNames(){this.favoriteAccounts.sort((e,t)=>{const n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0})}addFavoriteAccount(e){if(this.favoriteAccounts.length<Be)this.favoriteAccounts.push(e),this.sortByNames();else throw new Error("Account limit is reached")}editFavoriteAccount(e,t){this.favoriteAccounts[t]=e,this.sortByNames()}deleteFavoriteAccount(e){this.favoriteAccounts=this.favoriteAccounts.filter(t=>t.number!==e.number)}}const D=document.getElementById("favorite-account-edit-list"),Y=document.getElementById("favorite-account-edit-list-count");class Ne{constructor(e,t,n){this.favoriteAccountList=e,this.handleEditButtonClick=t,this.handleDeleteButtonClick=n}createForm(e){const t=e.getEditView(),n=t.querySelector(".favorite-account__input--name"),a=t.querySelector(".favorite-account__input--number"),s=t.querySelector(".button--confirm");return new b([n,a],t,s)}displayCount(){const e=String(this.favoriteAccountList.favoriteAccounts.length);Y.textContent!==e&&(Y.textContent=e)}display(){this.favoriteAccountList.favoriteAccounts.forEach((e,t)=>{const n=e.getNormalView();if(!e.isListenedForEditList){const a=this.createForm(e),s=e.getEditView(),c=n.querySelector(".button--edit"),g=n.querySelector(".button--delete"),v=s.querySelector(".button--cancel"),T=s.querySelector(".button--confirm");c.addEventListener("click",()=>{this.enterEditMode(e,a)}),g.addEventListener("click",()=>{this.handleDeleteButtonClick(e)}),v.addEventListener("click",()=>{this.exitEditMode(e)}),T.addEventListener("click",()=>{this.handleEditButtonClick(e,a,t)}),e.isListenedForEditList=!0}D.appendChild(n)}),this.displayCount()}enterEditMode(e,t){const n=e.getNormalView(),a=e.getEditView(),s=a.querySelector('[data-name="account-owner"]'),c=a.querySelector('[data-name="account-number"]');s.value=e.name,c.value=e.number,t.checkFields(),D.replaceChild(a,n)}exitEditMode(e){const t=e.getNormalView(),n=e.getEditView();D.replaceChild(t,n)}reset(){this.clear(),this.display()}clear(){D.innerHTML=""}}const Z=document.getElementById("favorite-account-paste-list"),ee=document.getElementById("favorite-account-paste-list-count");class ke{constructor(e,t,n){this.favoriteAccountList=e,this.targetInputElement=t,this.handleClick=n,this.activeFavoriteAccountElement=!1,this.resetActiveFavoriteAccountElement=this.resetActiveFavoriteAccountElement.bind(this)}displayCount(){const e=String(this.favoriteAccountList.favoriteAccounts.length);ee.textContent!==e&&(ee.textContent=e)}setActiveFavoriteAccountElement(e){this.activeFavoriteAccountElement&&this.targetInputElement.removeEventListener("keyup",this.resetActiveFavoriteAccountElement),this.targetInputElement.value=e.number,this.activeFavoriteAccountElement&&(this.activeFavoriteAccountElement.dataset.copied="false"),this.activeFavoriteAccountElement=e.getPasteView(),this.activeFavoriteAccountElement.dataset.copied="true",this.handleClick()}resetActiveFavoriteAccountElement(){this.activeFavoriteAccountElement.dataset.copied="false",this.activeFavoriteAccountElement=!1}display(){this.favoriteAccountList.favoriteAccounts.forEach(e=>{const t=e.getPasteView();Z.appendChild(t),e.isListenedForPasteList||(t.addEventListener("click",()=>{this.targetInputElement.value!==e.number&&(this.setActiveFavoriteAccountElement(e),this.targetInputElement.addEventListener("keyup",this.resetActiveFavoriteAccountElement,{once:!0}))}),e.isListenedForPasteList=!0)}),this.displayCount()}reset(){this.clear(),this.display()}clear(){Z.innerHTML=""}}class C{constructor(e,t,n,a,s){this.viewElement=e,this.filterDropdown=t,this.filterList=n,this.logList=a,this.favoriteAccountList=s}activate(){this.viewElement.classList.add("view--active"),this.logList&&(this.logList.logListElement.scrollTop=0,this.logList.displayInitialLogs()),this.favoriteAccountList&&this.favoriteAccountList.display()}deactivate(){this.viewElement.classList.remove("view--active"),this.filterDropdown&&this.filterDropdown.reset(),this.filterList&&this.filterList.reset(),this.logList&&(this.logList.filter&&(this.logList.filter=!1),this.logList.clear()),this.favoriteAccountList&&this.favoriteAccountList.clear()}}class Se{constructor(e){this.activeView=e,this.activeView.activate()}switch(e){this.activeView.deactivate(),this.activeView=e,this.activeView.activate()}}const te=document.getElementById("personal-transfer-account-number-input");function Re(o){switch(o){case"fleeca":document.documentElement.classList.add("fleeca");break;case"maze":document.documentElement.classList.add("maze");break;default:throw new Error("The theme is not valid")}}Re(y.bank);function h(){return new Date().toISOString()}const i=new we(y.account.personal,document.getElementById("personal-account-owner"),document.getElementById("personal-account-number"),document.getElementById("personal-account-balance"));if(i.theme==="dark"){const o=document.getElementById("personal-theme-button");o.checked=!0,document.documentElement.classList.add("dark")}const p=new N(y.account.personal.logs,document.getElementById("personal-log-list")),L=new N(y.account.personal.logs.filter(o=>o.type==="operation"),document.getElementById("personal-operation-log-list")),_=new b([document.getElementById("personal-favorite-account-name-input"),document.getElementById("personal-favorite-account-number-input")],document.getElementById("personal-favorite-account-form"),document.getElementById("personal-favorite-account-form-button")),M=new b([document.getElementById("personal-deposit-amount-input")],document.getElementById("personal-deposit-form"),document.getElementById("personal-deposit-form-button")),W=new b([document.getElementById("personal-withdraw-amount-input")],document.getElementById("personal-withdraw-form"),document.getElementById("personal-withdraw-form-button")),k=new b([document.getElementById("personal-transfer-amount-input"),te,document.getElementById("personal-transfer-reference-input")],document.getElementById("personal-transfer-form"),document.getElementById("personal-transfer-form-button")),r=new Te(document.getElementById("notification-list")),U=new x(document.getElementById("personal-filter-dropdown")),Ve=new f("Aucun",!1),Oe=new f("Op\xE9rations","operation"),Pe=new f("Transferts","transfer");function xe(o){p.filter=o.value,p.reset(),U.close(),U.updateLabel(o.value?`filtre: ${o.name}`:"filtrer les r\xE9sultats")}const qe=new q([Ve,Oe,Pe],document.getElementById("personal-filter-list"),xe),_e=y.account.personal.favoriteAccounts.map(o=>new $(o.name,o.number)),w=new De(_e);function Me(o){w.deleteFavoriteAccount(o),S.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait supprim\xE9 avec succ\xE8s",type:"success"})}function We(){k.checkFields()}function Ue(o,e,t){const n=new FormData(e.formElement),a=new $(n.get("name"),n.get("number"));w.editFavoriteAccount(a,t),S.reset()}const S=new Ne(w,Ue,Me),$e=new ke(w,te,We);function Ge(){l.setActiveTab(ae),I.switch(ne)}function ze(){l.setActiveTab(oe),I.switch(Qe)}function He(){l.setActiveTab(se),I.switch(je)}const ne=new C(document.getElementById("personal-view"),U,qe,p,S),Qe=new C(document.getElementById("personal-operation-view"),!1,!1,L,!1),je=new C(document.getElementById("personal-transfer-view"),!1,!1,!1,$e),I=new Se(ne),ae=new F("mon compte","personal",Ge),oe=new F("op\xE9ration","personal-operation",ze),se=new F("transfert","transfer",He),l=new Ae([ae,oe,se],document.getElementById("tab-list"));function Ke(o){i.theme=o.target.checked?"dark":"light",i.theme==="dark"?document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"):document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark")}const Je=document.getElementById("personal-theme-button");function Xe(o){o.preventDefault();const e=new FormData(_.formElement),t=new $(e.get("name"),e.get("number")),n=w.favoriteAccounts.length<5,a=w.favoriteAccounts.findIndex(s=>s.number===t.number)===-1;n&&a?(w.addFavoriteAccount(t),S.reset(),_.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait enregistr\xE9 avec succ\xE8s",type:"success"})):n?a||r.displayNotification({title:"Compte favoris",description:`Le compte ${t.number} existe deja dans la liste`,type:"error"}):r.displayNotification({title:"Compte favoris",description:"Limite de compte favoris enregistr\xE9s atteinte",type:"error"})}function Ye(o){o.preventDefault();const e=new FormData(M.formElement),t=Number(e.get("amount"));if(i.cash>t){const n={label:"D\xE9pot",amount:t,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(n),l.activeTab.name==="personal"&&p.reset(),L.addLog(n),l.activeTab.name==="personal-operation"&&L.reset(),i.cash-=t,i.balance+=t,i.displayBalance(),M.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})}function Ze(){if(i.cash>0){const o={label:"D\xE9pot",amount:i.cash,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(o),l.activeTab.name==="personal"&&p.reset(),L.addLog(o),l.activeTab.name==="personal-operation"&&L.reset(),i.cash=0,r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})}function et(o){o.preventDefault();const e=new FormData(W.formElement),t=Number(e.get("amount"));if(i.balance>=t){const n={label:"Retrait",amount:-t,date:h(),reference:"Retrait depuis votre compte",type:"operation"};p.addLog(n),l.activeTab.name==="personal"&&p.reset(),L.addLog(n),l.activeTab.name==="personal-operation"&&L.reset(),i.cash+=t,i.balance-=t,i.displayBalance(),W.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}function tt(o){o.preventDefault();const e=new FormData(k.formElement),t=Number(e.get("amount"));if(i.balance>=t){const n={label:"Transfert",amount:-t,date:h(),reference:e.get("reference"),type:"operation"};p.addLog(n),l.activeTab.name==="personal"&&p.reset(),i.balance-=t,i.displayBalance(),k.reset(),r.displayNotification({title:"Transfert",description:"le transfert a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Transfert",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}const nt=document.getElementById("personal-all-deposit-button");_.formElement.addEventListener("submit",Xe);M.formElement.addEventListener("submit",Ye);nt.addEventListener("click",Ze);W.formElement.addEventListener("submit",et);k.formElement.addEventListener("submit",tt);Je.addEventListener("click",Ke);{let c=function(m){e.filter=m.value,e.reset(),t.close(),t.updateLabel(m.value?`filtre: ${m.name}`:"filtrer les r\xE9sultats")},G=function(){l.setActiveTab(z),I.switch(ie)},H=function(m){m.preventDefault();const u=new FormData(v.formElement),d=Number(u.get("amount"));if(i.cash>d){const A={label:"D\xE9pot",amount:d,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};e.addLog(A),l.activeTab.name==="enterprise"&&e.reset(),i.cash-=d,o.balance+=d,o.displayBalance(),v.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},Q=function(){if(i.cash>0){const m={label:"D\xE9pot",amount:i.cash,date:h(),reference:"D\xE9pot le compte de l'entreprise",type:"operation"};e.addLog(m),l.activeTab.name==="enterprise"&&e.reset(),i.cash=0,r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})},j=function(m){m.preventDefault();const u=new FormData(T.formElement),d=Number(u.get("amount"));if(o.balance>d){const A={label:"Retrait",amount:-d,date:h(),reference:"Retrait depuis le compte de l'entreprise",type:"operation"};e.addLog(A),l.activeTab.name==="enterprise"&&e.reset(),i.cash+=d,o.balance-=d,o.displayBalance(),T.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})};var setEnterpriseLogListFilter=c,showEnterpriseView=G,depositToEnterpriseAccount=H,depositAllToEnterpriseAccount=Q,withdrawToEnterpriseAccount=j;const o=new P(y.account.enterprise,document.getElementById("enterprise-account-owner"),document.getElementById("enterprise-account-balance")),e=new N(y.account.enterprise.logs,document.getElementById("enterprise-log-list")),t=new x(document.getElementById("enterprise-filter-dropdown")),n=new f("Aucun",!1),a=new f("Op\xE9rations","operation"),s=new f("Transferts","transfer"),g=new q([n,a,s],document.getElementById("enterprise-filter-list"),c),v=new b([document.getElementById("enterprise-deposit-amount-input")],document.getElementById("enterprise-deposit-form"),document.getElementById("enterprise-deposit-form-button")),T=new b([document.getElementById("enterprise-withdraw-amount-input")],document.getElementById("enterprise-withdraw-form"),document.getElementById("enterprise-withdraw-form-button")),z=new F("entreprise","enterprise",G);l.addTab(z);const ie=new C(document.getElementById("enterprise-view"),t,g,e,!1),re=document.getElementById("enterprise-all-deposit-button");v.formElement.addEventListener("submit",H),T.formElement.addEventListener("submit",j),re.addEventListener("click",Q);{let K=function(E){u.filter=E.value,u.reset(),d.close(),d.updateLabel(E.value?`filtre: ${E.name}`:"filtrer les r\xE9sultats")},V=function(){l.setActiveTab(de),I.switch(pe)},J=function(E){E.preventDefault();const he=new FormData(R.formElement),B=Number(he.get("amount"));if(i.cash>B){const ye={label:"D\xE9pot",amount:B,date:h(),reference:"D\xE9pot sur le compte offshore",type:"operation"};u.addLog(ye),l.activeTab.name==="offshore"&&u.reset(),i.cash-=B,m.balance+=B,m.displayBalance(),R.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},X=function(){if(i.cash>0){const E={label:"D\xE9pot",amount:i.cash,date:h(),reference:"D\xE9pot sur le compte offshore",type:"operation"};u.addLog(E),l.activeTab.name==="offshore"&&u.reset(),i.cash=0,m.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})};var setOffshoreLogListFilter=K,showOffshoreView=V,depositToOffshoreAccount=J,depositAllToOffshoreAccount=X;const m=new P(y.account.offshore,document.getElementById("offshore-account-owner"),document.getElementById("offshore-account-balance")),u=new N(y.account.offshore.logs,document.getElementById("offshore-log-list")),d=new x(document.getElementById("offshore-filter-dropdown")),A=new f("Aucun",!1),ce=new f("Op\xE9rations","operation"),le=new f("Transferts","transfer"),me=new q([A,ce,le],document.getElementById("offshore-filter-list"),K),R=new b([document.getElementById("offshore-deposit-amount-input")],document.getElementById("offshore-deposit-form"),document.getElementById("offshore-deposit-form-button")),de=new F("offshore","offshore",V,!0),ue=document.getElementById("offshore-tab-button"),pe=new C(document.getElementById("offshore-view"),d,me,u,!1),fe=document.getElementById("offshore-all-deposit-button");ue.addEventListener("click",V),R.formElement.addEventListener("submit",J),fe.addEventListener("click",X)}}const at=document.getElementById("app");setTimeout(()=>{at.classList.replace("app--loading","app--loaded")},500);
