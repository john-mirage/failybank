const be=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}};be();const y={bank:"fleeca",hasEnterprise:!0,hasOffshore:!0,account:{personal:{owner:"Garry Green",number:"0123456789",balance:48569,cash:4e4,theme:"dark",favoriteAccounts:[{name:"Lena Silvo",number:"0123456789"},{name:"Owen Chapman",number:"1234567890"},{name:"Pamela Padilla",number:"2345678901"},{name:"Garry Green",number:"3456789012"},{name:"Quentin Cooper",number:"4567890123"}],logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},enterprise:{owner:"Arthur Popov",balance:485321,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},offshore:{owner:"Quentin Cooper",balance:4123547,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]}}},ne=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0}),ve=new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"});class P{constructor(e,t,n){this.owner=e.owner,this.ownerElement=t,this.balance=e.balance,this.balanceElement=n,this.displayOwner(),this.displayBalance()}displayOwner(){this.ownerElement.textContent=this.owner}displayBalance(){this.balance<1&&this.balanceElement.classList.replace("typography--number-positive","typography--number-negative"),this.balanceElement.textContent=ne.format(this.balance)}}class Ee extends P{constructor(e,t,n,o){super(e,t,o),this.accountNumber=e.number,this.accountNumberElement=n,this.cash=e.cash,this.theme=e.theme,this.displayNumber()}displayNumber(){this.accountNumberElement.textContent=this.accountNumber}}const S=10;class N{constructor(e,t){this.logs=e,this.logListElement=t,this.logTemplate=document.getElementById("log-template"),this.filteredLogs=!1,this.filter=!1,this.page=1,this.observer=new IntersectionObserver(n=>this.getNextPage(n)),this.observedLogElement=!1,this.getNextPage=this.getNextPage.bind(this)}addLog(e){this.logs.unshift(e)}createLog(e){const n=this.logTemplate.content.cloneNode(!0).querySelector(".log"),o=n.querySelector(".log__icon"),s=n.querySelector('[data-name="log-label"]'),l=n.querySelector('[data-name="log-datetime"]'),L=n.querySelector('[data-name="log-amount"]'),b=n.querySelector('[data-name="log-reference"]');return o.classList.add(`log__icon--${e.type}`),L.classList.add(`typography--${e.amount>0?"number-positive":"number-negative"}`),s.textContent=e.label,l.textContent=ve.format(new Date(e.date)),L.textContent=ne.format(e.amount),b.textContent=e.reference,n}createPageLogs(e){e.forEach((t,n)=>{const o=n===e.length-1,s=this.page<this.pageTotal,l=this.createLog(t);o&&s&&(this.observeLastPageLog(l),this.observedLogElement=l),this.logListElement.appendChild(l)})}getNextPage(e){e[0].isIntersecting&&(this.page+=1,this.unobserveLastPageLog(),this.filter?this.displayFilteredLogs():this.displayLogs())}getPageTotal(e){const t=e.length;this.pageTotal=Math.ceil(t/S)}getPageLogs(e){const t=S*(this.page-1),n=S*this.page;return e.slice(t,n)}getFilteredLogs(){return this.logs.filter(e=>e.type===this.filter)}displayInitialLogs(){this.filter?(this.filteredLogs=this.getFilteredLogs(),this.getPageTotal(this.filteredLogs),this.displayFilteredLogs()):(this.getPageTotal(this.logs),this.displayLogs())}displayFilteredLogs(){const e=this.getPageLogs(this.filteredLogs);this.createPageLogs(e)}displayLogs(){const e=this.getPageLogs(this.logs);this.createPageLogs(e)}reset(){this.clear(),this.displayInitialLogs()}clear(){this.unobserveLastPageLog(),this.logListElement.scrollTop=0,this.logListElement.innerHTML="",this.page>1&&(this.page=1)}observeLastPageLog(e){this.observedLogElement||(this.observer.observe(e),this.observedLogElement=e)}unobserveLastPageLog(){this.observedLogElement&&(this.observer.unobserve(this.observedLogElement),this.observedLogElement=!1)}}class g{constructor(e,t,n){this.inputElements=e,this.formElement=t,this.buttonElement=n,this.buttonIsActive=!1,this.CheckFieldsWithDebounce=this.debounce(()=>this.checkFields()),this.inputElements.forEach(o=>{o.addEventListener("keyup",()=>this.CheckFieldsWithDebounce())})}debounce(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,o)},t)}}checkFields(){const e=this.inputElements.every(t=>t.validity.valid);e&&!this.buttonIsActive?this.activateSubmitButton():!e&&this.buttonIsActive&&this.deactivateSubmitButton()}reset(){this.formElement.reset(),this.deactivateSubmitButton()}activateSubmitButton(){this.buttonIsActive=!0,this.buttonElement.classList.replace("button--disabled","button--primary"),this.buttonElement.removeAttribute("disabled")}deactivateSubmitButton(){this.buttonIsActive=!1,this.buttonElement.classList.replace("button--primary","button--disabled"),this.buttonElement.setAttribute("disabled","")}}const we=document.getElementById("notification-template");class Le{constructor(e){this.notificationListElement=e}createNotification(e){const t=we.content.cloneNode(!0),n=t.querySelector(".notification"),o=t.querySelector('[data-name="notification-name"]'),s=t.querySelector('[data-name="notification-description"]');return n.classList.add(`notification--${e.type}`),o.textContent=e.title,s.textContent=e.description,n}deleteNotification(e){this.notificationListElement.removeChild(e)}displayNotification(e){const t=this.createNotification(e);this.notificationListElement.prepend(t),setTimeout(()=>{this.deleteNotification(t)},5e3)}}class C{constructor(e,t,n,o=!1){this.label=e,this.name=t,this.handleClick=n,this.temporary=o,this.element=this.createElement(),this.temporary&&this.activate()}createElement(){const e=document.createElement("button");return e.classList.add("tab","typography","typography--tab"),e.textContent=this.label,e.addEventListener("click",()=>{this.handleClick()}),e}activate(){this.element.classList.add("tab--active"),this.element.setAttribute("disabled","")}disable(){this.element.classList.remove("tab--active"),this.element.removeAttribute("disabled")}}class Te{constructor(e,t){this.initialTabs=e,this.tabListElement=t,this.activeTab=e[0],this.createInitialTabs()}addTab(e){this.tabListElement.appendChild(e.element)}deleteTab(e){this.tabListElement.removeChild(e.element)}createInitialTabs(){this.initialTabs.forEach(e=>{this.tabListElement.appendChild(e.element)}),this.activeTab.activate()}setActiveTab(e){this.activeTab.temporary?this.deleteTab(this.activeTab):this.activeTab.disable(),this.activeTab=e,this.activeTab.temporary?this.addTab(this.activeTab):this.activeTab.activate()}}class x{constructor(e){this.detailsElement=e,this.titleElement=this.detailsElement.querySelector('[data-name="dropdown-title"]'),this.closeWhenClickOutside=this.closeWhenClickOutside.bind(this),this.handleChange=this.handleChange.bind(this),this.detailsElement.addEventListener("toggle",this.handleChange)}close(){this.detailsElement.removeAttribute("open")}updateLabel(e){this.titleElement.textContent=e}closeWhenClickOutside(e){this.detailsElement.contains(e.target)||this.close()}handleChange(){this.detailsElement.open?document.addEventListener("click",this.closeWhenClickOutside):document.removeEventListener("click",this.closeWhenClickOutside)}reset(){this.titleElement.textContent="filtrer les r\xE9sultats"}}class f{constructor(e,t){this.name=e,this.value=t,this.element=this.createElement()}createElement(){const e=document.createElement("button");return e.classList.add("typography","typography--body-medium","filter"),e.textContent=this.name,e}activate(){this.element.classList.add("filter--active"),this.element.setAttribute("disabled","")}disable(){this.element.classList.remove("filter--active"),this.element.removeAttribute("disabled")}}class q{constructor(e,t,n){this.filters=e,this.filterListElement=t,this.handleFilterClick=n,this.displayFilters(),this.init()}displayFilters(){this.filters.forEach(e=>{this.filterListElement.appendChild(e.element),e.element.addEventListener("click",()=>{this.setActiveFilter(e),this.handleFilterClick(e)})})}setActiveFilter(e){this.activeFilter.disable(),this.activeFilter=e,this.activeFilter.activate()}init(){this.activeFilter=this.filters[0],this.activeFilter.activate()}reset(){this.setActiveFilter(this.filters[0])}}const Ae=document.getElementById("favorite-account-normal-template"),Ce=document.getElementById("favorite-account-edit-template"),Be=document.getElementById("favorite-account-paste-template");class G{constructor(e,t){this.name=e,this.number=t,this.isListened=!1,this.normalElement=!1,this.editElement=!1,this.pasteElement=!1}getNormalView(){if(!this.normalElement){const t=Ae.content.cloneNode(!0).querySelector(".favorite-account"),n=t.querySelector('[data-name="account-owner"]'),o=t.querySelector('[data-name="account-number"]');return n.textContent=this.name,o.textContent=this.number,this.normalElement=t,this.normalElement}return this.normalElement}getEditView(){if(!this.editElement){const e=Ce.content.cloneNode(!0);return this.editElement=e.querySelector(".favorite-account"),this.editElement}return this.editElement}getPasteView(){if(!this.pasteElement){const t=Be.content.cloneNode(!0).querySelector(".favorite-account"),n=t.querySelector('[data-name="favorite-account-name"]'),o=t.querySelector('[data-name="favorite-account-number"]');return n.textContent=this.name,o.textContent=this.number,this.pasteElement=t,this.pasteElement}return this.pasteElement}}const Fe=5;class Ie{constructor(e){this.favoriteAccounts=e,this.sortByNames()}sortByNames(){this.favoriteAccounts.sort((e,t)=>{const n=e.name.toUpperCase(),o=t.name.toUpperCase();return n<o?-1:n>o?1:0})}addFavoriteAccount(e){if(this.favoriteAccounts.length<Fe)this.favoriteAccounts.push(e),this.sortByNames();else throw new Error("Account limit is reached")}editFavoriteAccount(e,t){this.favoriteAccounts[t]=e,this.sortByNames()}deleteFavoriteAccount(e){this.favoriteAccounts=this.favoriteAccounts.filter(t=>t.number!==e.number)}}const D=document.getElementById("favorite-account-edit-list"),Y=document.getElementById("favorite-account-edit-list-count");class De{constructor(e,t,n){this.favoriteAccountList=e,this.handleEditButtonClick=t,this.handleDeleteButtonClick=n}listenButtons(e,t,n){const o=e.getNormalView(),s=e.getEditView(),l=o.querySelector(".button--edit"),L=o.querySelector(".button--delete"),b=s.querySelector(".button--cancel"),T=s.querySelector(".button--confirm");l.addEventListener("click",()=>{this.enterEditMode(e,t)}),L.addEventListener("click",()=>{this.handleDeleteButtonClick(e)}),b.addEventListener("click",()=>{this.exitEditMode(e)}),T.addEventListener("click",()=>{this.handleEditButtonClick(e,t,n)})}createForm(e){const t=e.getEditView(),n=t.querySelector(".favorite-account__input--name"),o=t.querySelector(".favorite-account__input--number"),s=t.querySelector(".button--confirm");return new g([n,o],t,s)}displayCount(){const e=String(this.favoriteAccountList.favoriteAccounts.length);Y.textContent!==e&&(Y.textContent=e)}display(){this.favoriteAccountList.favoriteAccounts.forEach((e,t)=>{const n=e.getNormalView();if(!e.isListened){const o=this.createForm(e);this.listenButtons(e,o,t),e.isListened=!0}D.appendChild(n)}),this.displayCount()}enterEditMode(e,t){const n=e.getNormalView(),o=e.getEditView(),s=o.querySelector('[data-name="account-owner"]'),l=o.querySelector('[data-name="account-number"]');s.value=e.name,l.value=e.number,t.checkFields(),D.replaceChild(o,n)}exitEditMode(e){const t=e.getNormalView(),n=e.getEditView();D.replaceChild(t,n)}reset(){this.clear(),this.display()}clear(){D.innerHTML=""}}const Z=document.getElementById("favorite-account-paste-list"),ee=document.getElementById("favorite-account-paste-list-count");class Ne{constructor(e,t){this.favoriteAccountList=e,this.handleClick=t}displayCount(){const e=String(this.favoriteAccountList.favoriteAccounts.length);ee.textContent!==e&&(ee.textContent=e)}display(){this.favoriteAccountList.favoriteAccounts.forEach(e=>{const t=e.getPasteView();Z.appendChild(t),t.addEventListener("click",()=>{this.handleClick(e.number)})}),this.displayCount()}reset(){this.clear(),this.display()}clear(){Z.innerHTML=""}}class B{constructor(e,t,n,o,s){this.viewElement=e,this.filterDropdown=t,this.filterList=n,this.logList=o,this.favoriteAccountList=s}activate(){this.viewElement.classList.add("view--active"),this.logList&&(this.logList.logListElement.scrollTop=0,this.logList.displayInitialLogs()),this.favoriteAccountList&&this.favoriteAccountList.display()}deactivate(){this.viewElement.classList.remove("view--active"),this.filterDropdown&&this.filterDropdown.reset(),this.filterList&&this.filterList.reset(),this.logList&&(this.logList.filter&&(this.logList.filter=!1),this.logList.clear()),this.favoriteAccountList&&this.favoriteAccountList.clear()}}class ke{constructor(e){this.activeView=e,this.activeView.activate()}switch(e){this.activeView.deactivate(),this.activeView=e,this.activeView.activate()}}function Ve(a){switch(a){case"fleeca":document.documentElement.classList.add("fleeca");break;case"maze":document.documentElement.classList.add("maze");break;default:throw new Error("The theme is not valid")}}Ve(y.bank);function h(){return new Date().toISOString()}const i=new Ee(y.account.personal,document.getElementById("personal-account-owner"),document.getElementById("personal-account-number"),document.getElementById("personal-account-balance"));if(i.theme==="dark"){const a=document.getElementById("personal-theme-button");a.checked=!0,document.documentElement.classList.add("dark")}const p=new N(y.account.personal.logs,document.getElementById("personal-log-list")),w=new N(y.account.personal.logs.filter(a=>a.type==="operation"),document.getElementById("personal-operation-log-list")),_=new g([document.getElementById("personal-favorite-account-name-input"),document.getElementById("personal-favorite-account-number-input")],document.getElementById("personal-favorite-account-form"),document.getElementById("personal-favorite-account-form-button")),M=new g([document.getElementById("personal-deposit-amount-input")],document.getElementById("personal-deposit-form"),document.getElementById("personal-deposit-form-button")),W=new g([document.getElementById("personal-withdraw-amount-input")],document.getElementById("personal-withdraw-form"),document.getElementById("personal-withdraw-form-button")),k=new g([document.getElementById("personal-transfer-amount-input"),document.getElementById("personal-transfer-account-number-input"),document.getElementById("personal-transfer-reference-input")],document.getElementById("personal-transfer-form"),document.getElementById("personal-transfer-form-button")),r=new Le(document.getElementById("notification-list")),$=new x(document.getElementById("personal-filter-dropdown")),Re=new f("Aucun",!1),Oe=new f("Op\xE9rations","operation"),Se=new f("Transferts","transfer");function Pe(a){p.filter=a.value,p.reset(),$.close(),$.updateLabel(a.value?`filtre: ${a.name}`:"filtrer les r\xE9sultats")}const xe=new q([Re,Oe,Se],document.getElementById("personal-filter-list"),Pe),qe=y.account.personal.favoriteAccounts.map(a=>new G(a.name,a.number)),E=new Ie(qe);function _e(a){E.deleteFavoriteAccount(a),V.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait supprim\xE9 avec succ\xE8s",type:"success"})}const te=document.getElementById("personal-transfer-account-number-input");function Me(a){te.value!==a&&(te.value=a,k.checkFields())}function We(a,e,t){const n=new FormData(e.formElement),o=new G(n.get("name"),n.get("number"));E.editFavoriteAccount(o,t),V.reset()}const V=new De(E,We,_e),$e=new Ne(E,Me);function Ge(){c.setActiveTab(oe),F.switch(ae)}function ze(){c.setActiveTab(se),F.switch(He)}function Ue(){c.setActiveTab(ie),F.switch(Qe)}const ae=new B(document.getElementById("personal-view"),$,xe,p,V),He=new B(document.getElementById("personal-operation-view"),!1,!1,w,!1),Qe=new B(document.getElementById("personal-transfer-view"),!1,!1,!1,$e),F=new ke(ae),oe=new C("mon compte","personal",Ge),se=new C("op\xE9ration","personal-operation",ze),ie=new C("transfert","transfer",Ue),c=new Te([oe,se,ie],document.getElementById("tab-list"));function je(a){i.theme=a.target.checked?"dark":"light",i.theme==="dark"?document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"):document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark")}const Ke=document.getElementById("personal-theme-button");function Je(a){a.preventDefault();const e=new FormData(_.formElement),t=new G(e.get("name"),e.get("number")),n=E.favoriteAccounts.length<5,o=E.favoriteAccounts.findIndex(s=>s.number===t.number)===-1;n&&o?(E.addFavoriteAccount(t),V.reset(),_.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait enregistr\xE9 avec succ\xE8s",type:"success"})):n?o||r.displayNotification({title:"Compte favoris",description:`Le compte ${t.number} existe deja dans la liste`,type:"error"}):r.displayNotification({title:"Compte favoris",description:"Limite de compte favoris enregistr\xE9s atteinte",type:"error"})}function Xe(a){a.preventDefault();const e=new FormData(M.formElement),t=Number(e.get("amount"));if(i.cash>t){const n={label:"D\xE9pot",amount:t,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(n),c.activeTab.name==="personal"&&p.reset(),w.addLog(n),c.activeTab.name==="personal-operation"&&w.reset(),i.cash-=t,i.balance+=t,i.displayBalance(),M.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})}function Ye(){if(i.cash>0){const a={label:"D\xE9pot",amount:i.cash,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(a),c.activeTab.name==="personal"&&p.reset(),w.addLog(a),c.activeTab.name==="personal-operation"&&w.reset(),i.cash=0,r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})}function Ze(a){a.preventDefault();const e=new FormData(W.formElement),t=Number(e.get("amount"));if(i.balance>=t){const n={label:"Retrait",amount:-t,date:h(),reference:"Retrait depuis votre compte",type:"operation"};p.addLog(n),c.activeTab.name==="personal"&&p.reset(),w.addLog(n),c.activeTab.name==="personal-operation"&&w.reset(),i.cash+=t,i.balance-=t,i.displayBalance(),W.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}function et(a){a.preventDefault();const e=new FormData(k.formElement),t=Number(e.get("amount"));if(i.balance>=t){const n={label:"Transfert",amount:-t,date:h(),reference:e.get("reference"),type:"operation"};p.addLog(n),c.activeTab.name==="personal"&&p.reset(),i.balance-=t,i.displayBalance(),k.reset(),r.displayNotification({title:"Transfert",description:"le transfert a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Transfert",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}const tt=document.getElementById("personal-all-deposit-button");_.formElement.addEventListener("submit",Je);M.formElement.addEventListener("submit",Xe);tt.addEventListener("click",Ye);W.formElement.addEventListener("submit",Ze);k.formElement.addEventListener("submit",et);Ke.addEventListener("click",je);{let l=function(m){e.filter=m.value,e.reset(),t.close(),t.updateLabel(m.value?`filtre: ${m.name}`:"filtrer les r\xE9sultats")},z=function(){c.setActiveTab(U),F.switch(re)},H=function(m){m.preventDefault();const u=new FormData(b.formElement),d=Number(u.get("amount"));if(i.cash>d){const A={label:"D\xE9pot",amount:d,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};e.addLog(A),c.activeTab.name==="enterprise"&&e.reset(),i.cash-=d,a.balance+=d,a.displayBalance(),b.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},Q=function(){if(i.cash>0){const m={label:"D\xE9pot",amount:i.cash,date:h(),reference:"D\xE9pot le compte de l'entreprise",type:"operation"};e.addLog(m),c.activeTab.name==="enterprise"&&e.reset(),i.cash=0,a.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})},j=function(m){m.preventDefault();const u=new FormData(T.formElement),d=Number(u.get("amount"));if(a.balance>d){const A={label:"Retrait",amount:-d,date:h(),reference:"Retrait depuis le compte de l'entreprise",type:"operation"};e.addLog(A),c.activeTab.name==="enterprise"&&e.reset(),i.cash+=d,a.balance-=d,a.displayBalance(),T.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})};var setEnterpriseLogListFilter=l,showEnterpriseView=z,depositToEnterpriseAccount=H,depositAllToEnterpriseAccount=Q,withdrawToEnterpriseAccount=j;const a=new P(y.account.enterprise,document.getElementById("enterprise-account-owner"),document.getElementById("enterprise-account-balance")),e=new N(y.account.enterprise.logs,document.getElementById("enterprise-log-list")),t=new x(document.getElementById("enterprise-filter-dropdown")),n=new f("Aucun",!1),o=new f("Op\xE9rations","operation"),s=new f("Transferts","transfer"),L=new q([n,o,s],document.getElementById("enterprise-filter-list"),l),b=new g([document.getElementById("enterprise-deposit-amount-input")],document.getElementById("enterprise-deposit-form"),document.getElementById("enterprise-deposit-form-button")),T=new g([document.getElementById("enterprise-withdraw-amount-input")],document.getElementById("enterprise-withdraw-form"),document.getElementById("enterprise-withdraw-form-button")),U=new C("entreprise","enterprise",z);c.addTab(U);const re=new B(document.getElementById("enterprise-view"),t,L,e,!1),ce=document.getElementById("enterprise-all-deposit-button");b.formElement.addEventListener("submit",H),T.formElement.addEventListener("submit",j),ce.addEventListener("click",Q);{let K=function(v){u.filter=v.value,u.reset(),d.close(),d.updateLabel(v.value?`filtre: ${v.name}`:"filtrer les r\xE9sultats")},O=function(){c.setActiveTab(ue),F.switch(fe)},J=function(v){v.preventDefault();const ye=new FormData(R.formElement),I=Number(ye.get("amount"));if(i.cash>I){const ge={label:"D\xE9pot",amount:I,date:h(),reference:"D\xE9pot sur le compte offshore",type:"operation"};u.addLog(ge),c.activeTab.name==="offshore"&&u.reset(),i.cash-=I,m.balance+=I,m.displayBalance(),R.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},X=function(){if(i.cash>0){const v={label:"D\xE9pot",amount:i.cash,date:h(),reference:"D\xE9pot sur le compte offshore",type:"operation"};u.addLog(v),c.activeTab.name==="offshore"&&u.reset(),i.cash=0,m.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})};var setOffshoreLogListFilter=K,showOffshoreView=O,depositToOffshoreAccount=J,depositAllToOffshoreAccount=X;const m=new P(y.account.offshore,document.getElementById("offshore-account-owner"),document.getElementById("offshore-account-balance")),u=new N(y.account.offshore.logs,document.getElementById("offshore-log-list")),d=new x(document.getElementById("offshore-filter-dropdown")),A=new f("Aucun",!1),le=new f("Op\xE9rations","operation"),me=new f("Transferts","transfer"),de=new q([A,le,me],document.getElementById("offshore-filter-list"),K),R=new g([document.getElementById("offshore-deposit-amount-input")],document.getElementById("offshore-deposit-form"),document.getElementById("offshore-deposit-form-button")),ue=new C("offshore","offshore",O,!0),pe=document.getElementById("offshore-tab-button"),fe=new B(document.getElementById("offshore-view"),d,de,u,!1),he=document.getElementById("offshore-all-deposit-button");pe.addEventListener("click",O),R.formElement.addEventListener("submit",J),he.addEventListener("click",X)}}const nt=document.getElementById("app");setTimeout(()=>{nt.classList.replace("app--loading","app--loaded")},500);
