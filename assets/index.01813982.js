const te=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}};te();const E={bank:"fleeca",hasEnterprise:!0,hasOffshore:!0,account:{personal:{owner:"Garry Green",number:"0123456789",balance:48569,theme:"dark",favoriteAccounts:[{name:"Lena Silvo",number:"0123456789"},{name:"Owen Chapman",number:"1234567890"},{name:"Pamela Padilla",number:"2345678901"},{name:"Garry Green",number:"3456789012"},{name:"Quentin Cooper",number:"4567890123"}],logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},enterprise:{owner:"Arthur Popov",balance:485321,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},offshore:{owner:"Quentin Cooper",balance:4123547,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]}}},_=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0}),ne=new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"});function ae(t){switch(t){case"fleeca":document.documentElement.classList.add("fleeca");break;case"maze":document.documentElement.classList.add("maze");break;default:throw new Error("The theme is not valid")}}ae(E.bank);function oe(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer un nom":t.validity.tooLong?e.textContent="Le nom ne doit pas exeder 40 caract\xE8res":e.textContent="Il y a une erreur",!1)}function z(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer un num\xE9ro de compte":t.validity.tooShort||t.validity.tooLong?e.textContent="Le num\xE9ro de compte doit comporter 10 chiffres":t.validity.patternMismatch?e.textContent="Le num\xE9ro de compte ne comporte que des chiffres":e.textContent="Il y a une erreur",!1)}function h(t,e){if(t.validity.valid){if(Number(t.value)<50)return e.textContent="Le montant doit \xEAtre sup\xE9rieur o\xF9 \xE9gale \xE0 50$",!1}else return t.validity.valueMissing?e.textContent="Veuillez entrer un montant":t.validity.patternMismatch?e.textContent="Le montant ne doit comporter que des chiffres":e.textContent="Il y a une erreur",!1;return e.textContent.length>0&&(e.textContent=""),!0}function x(t,e,a){const o=Number(t.value);return a<o?(e.textContent="Vous n'avez pas les fonds n\xE9cessaires",!1):!0}function re(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer la r\xE9f\xE9rence du transfert":t.validity.tooLong?e.textContent="La r\xE9f\xE9rence du transfert ne doit exeder 40 caract\xE8res":e.textContent="Il y a une erreur",!1)}const se=document.getElementById("log-template"),A=10;class G{constructor(e,a){this.listElt=a,this.logs=e,this.page=1,this.observer=new IntersectionObserver(o=>{this.getNextPage(o)}),this.observedLog=!1,this.getPageNumber(),this.getPageLogs()}addLog(e){this.logs.unshift(e),this.resetList()}createLog(e,a=!1,o=!1){const n=se.content.cloneNode(!0),r=n.querySelector(".log"),c=r.querySelector(".log__icon"),i=r.querySelector(".log__type"),v=r.querySelector(".log__date"),L=r.querySelector(".log__amount"),T=r.querySelector(".log__reference");c.classList.add(`log__icon--${e.type}`),L.classList.add(`log__amount--${e.amount>0?"up":"down"}`),i.textContent=e.label,v.textContent=ne.format(new Date(e.date)),L.textContent=_.format(e.amount),T.textContent=e.reference,a?this.listElt.prepend(n):this.listElt.appendChild(n),o&&(this.observedLog=r,this.observer.observe(r))}createPageLogs(){this.observedLog&&(this.observer.unobserve(this.observedLog),this.observedLog=!1),this.pageLogs.forEach((e,a)=>{const o=a===this.pageLogs.length-1,n=this.page<this.pageNumber;o&&n?this.createLog(e,!1,!0):this.createLog(e)})}getNextPage(e){e[0].isIntersecting&&(this.page+=1,this.getPageLogs(),this.createPageLogs())}getPageNumber(){const e=this.logs.length;this.pageNumber=Math.ceil(e/A)}getPageLogs(){const e=A*(this.page-1),a=A*this.page;this.pageLogs=this.logs.slice(e,a)}resetList(){this.clearList(),this.createPageLogs()}clearList(){this.observedLog&&(this.observer.unobserve(this.observedLog),this.observedLog=!1),this.listElt.scrollTop=0,this.listElt.innerHTML="",this.page>1&&(this.page=1,this.getPageLogs())}}const O=document.getElementById("account-delete-list"),ie=document.getElementById("account-delete-template"),P=document.getElementById("account-paste-list"),ce=document.getElementById("account-paste-template"),le=document.getElementById("personal-favorite-account-sum-text"),g=document.getElementById("personal-favorite-account-form-button"),ue=5;class me{constructor(e){this.accounts=e,this.createList(),this.handleAddButton()}addAccount(e){if(this.accounts.length<ue)this.accounts=[e,...this.accounts],this.resetList();else throw new Error("Account limit is reached")}deleteAccount(e){this.accounts=this.accounts.filter(a=>a.number!==e.number),this.resetList()}createDeleteAccount(e){const a=ie.content.cloneNode(!0),o=a.querySelector(".account"),n=o.querySelector(".account__name"),r=o.querySelector(".account__number"),c=o.querySelector(".account__text-button");n.textContent=e.name,r.textContent=e.number,c.addEventListener("click",()=>{this.deleteAccount(e)},{once:!0}),O.appendChild(a)}createPasteAccount(e){const a=ce.content.cloneNode(!0),o=a.querySelector(".account"),n=o.querySelector(".account__name"),r=o.querySelector(".account__number");n.textContent=e.name,r.textContent=e.number,o.addEventListener("click",()=>{w.value!==e.number&&(w.value=e.number)}),P.appendChild(a)}createList(){this.accounts.forEach(e=>{this.createDeleteAccount(e),this.createPasteAccount(e)})}resetList(){O.innerHTML="",P.innerText="",this.createList(),this.handleAddButton()}handleAddButton(){const e=this.accounts.length;le.textContent=`[${String(e)}/5]`,e>=5?g.classList.contains("button--primary")&&(g.classList.replace("button--primary","button--disabled"),g.setAttribute("disabled","")):g.classList.contains("button--disabled")&&(g.classList.replace("button--disabled","button--primary"),g.removeAttribute("disabled"))}}const $=document.getElementById("personal-theme-button");class F{constructor(e,a,o,n){this.owner=e.owner,this.ownerElement=a,this.balance=e.balance,this.balanceElement=o,this.logList=new G(e.logs,n),this.displayOwner(),this.displayBalance()}displayOwner(){this.ownerElement.textContent=this.owner}displayBalance(){this.balance<1?this.balanceElement.classList.contains("section__number--up")?this.balanceElement.classList.replace("section__number--up","section__number--down"):this.balanceElement.classList.contains("section__number--down")||this.balanceElement.classList.add("section__number--down"):this.balanceElement.classList.contains("section__number--down")?this.balanceElement.classList.replace("section__number--down","section__number--up"):this.balanceElement.classList.contains("section__number--up")||this.balanceElement.classList.add("section__number--up"),this.balanceElement.textContent=_.format(this.balance)}}class de extends F{constructor(e,a,o,n,r,c){super(e,a,o,n),this.number=e.number,this.numberElement=r,this.theme=e.theme,this.theme==="dark"&&($.checked=!0,document.documentElement.classList.add("dark")),this.favoriteAccountList=new me(e.favoriteAccounts),this.operationLogList=new G(e.logs.filter(i=>i.type==="operation"),c),this.displayNumber()}displayNumber(){this.numberElement.textContent=this.number}displayBalance(){this.balance<1?this.balanceElement.classList.contains("balance__value--down")||this.balanceElement.classList.add("balance__value--down"):this.balanceElement.classList.contains("balance__value--down")&&this.balanceElement.classList.remove("balance__value--down"),this.balanceElement.textContent=_.format(this.balance)}}class pe{constructor(...e){this.tabs=e,this.activeTab=e[0]}addTab(e){this.tabs=[...this.tabs,e]}setActiveTab(e){this.activeTab.deactivate(),this.activeTab=e,this.activeTab.activate()}}class U{constructor(e){this.viewElt=e}activate(){this.viewElt.classList.add("view--active")}deactivate(){this.viewElt.classList.remove("view--active")}}class I extends U{constructor(e,a){super(a),this.containerElt=e}activate(){super.activate(),this.containerElt.classList.add("tab-list__item--active")}deactivate(){super.deactivate(),this.containerElt.classList.remove("tab-list__item--active")}}const H=document.getElementById("personal-deposit-form"),Q=document.getElementById("personal-withdraw-form"),K=document.getElementById("personal-transfer-form"),S=document.getElementById("personal-deposit-amount-input"),fe=document.getElementById("personal-deposit-amount-message"),C=document.getElementById("personal-withdraw-amount-input"),V=document.getElementById("personal-withdraw-amount-message"),B=document.getElementById("personal-transfer-amount-input"),k=document.getElementById("personal-transfer-amount-message"),w=document.getElementById("personal-transfer-account-number-input"),be=document.getElementById("personal-transfer-account-number-message"),M=document.getElementById("personal-transfer-reference-input"),ge=document.getElementById("personal-transfer-reference-message"),j=document.getElementById("personal-favorite-account-form"),q=document.getElementById("personal-favorite-account-name-input"),he=document.getElementById("personal-favorite-account-name-message"),W=document.getElementById("personal-favorite-account-number-input"),ye=document.getElementById("personal-favorite-account-number-message"),Le=document.getElementById("personal-tab"),ve=document.getElementById("personal-tab-input"),Te=document.getElementById("personal-tab-view"),Ee=document.getElementById("personal-operation-tab"),we=document.getElementById("personal-operation-tab-input"),Ie=document.getElementById("personal-operation-tab-view"),Ae=document.getElementById("personal-transfer-tab"),Ce=document.getElementById("personal-transfer-tab-input"),Be=document.getElementById("personal-transfer-tab-view"),Fe=document.getElementById("enterprise-tab"),_e=document.getElementById("enterprise-tab-view");document.getElementById("offshore-tab");const xe=document.getElementById("offshore-tab-view");function y(){return new Date().toISOString()}const s=new de(E.account.personal,document.getElementById("personal-account-owner"),document.getElementById("personal-account-balance"),document.getElementById("personal-account-log-list"),document.getElementById("personal-account-number"),document.getElementById("personal-account-operation-log-list"));s.logList.createPageLogs();let l=s.logList;const J=new I(Le,Te),X=new I(Ee,Ie),Y=new I(Ae,Be),m=new pe(J,X,Y);function De(t){s.theme=t.target.checked?"dark":"light",s.theme==="dark"?document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"):document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark")}function Re(t){t.preventDefault();const e=oe(q,he),a=z(W,ye);if(e&&a){const o={name:q.value,number:W.value};s.favoriteAccountList.addAccount(o),j.reset()}}function Ne(t){if(t.preventDefault(),h(S,fe)){const a=Number(S.value),o={label:"D\xE9pot",amount:a,date:y(),reference:"D\xE9pot sur votre compte",type:"operation"};s.logList.addLog(o),s.operationLogList.addLog(o),s.balance+=a,s.displayBalance(),H.reset()}}function Oe(t){t.preventDefault();const e=h(C,V),a=e?x(C,V,s.balance):!1;if(e&&a){const o=Number(C.value),n={label:"Retrait",amount:-o,date:y(),reference:"Retrait depuis votre compte",type:"operation"};s.logList.addLog(n),s.operationLogList.addLog(n),s.balance-=o,s.displayBalance(),Q.reset()}}function Pe(t){t.preventDefault();const e=h(B,k),a=e?x(B,k,s.balance):!1,o=z(w,be),n=re(M,ge);if(e&&a&&o&&n){const r=Number(B.value);w.value;const c=M.value,i={label:"Transfert",amount:-r,date:y(),reference:c,type:"operation"};s.logList.addLog(i),s.balance-=r,s.displayBalance(),K.reset()}}ve.addEventListener("change",()=>{m.setActiveTab(J),l.clearList(),l=s.logList,s.logList.createPageLogs()});we.addEventListener("change",()=>{m.setActiveTab(X),l.clearList(),l=s.operationLogList,s.operationLogList.createPageLogs()});Ce.addEventListener("change",()=>{m.setActiveTab(Y),l.clearList()});$.addEventListener("change",De);j.addEventListener("submit",Re);H.addEventListener("submit",Ne);Q.addEventListener("submit",Oe);K.addEventListener("submit",Pe);{let L=function(d){if(d.preventDefault(),h(a,o)){const f=Number(a.value),b={label:"D\xE9pot",amount:f,date:y(),reference:"D\xE9pot sur votre compte",type:"operation"};i.logList.addLog(b),i.balance+=f,i.displayBalance(),t.reset()}},T=function(d){d.preventDefault();const p=h(n,r),f=p?x(n,r,i.balance):!1;if(p&&f){const b=Number(n.value),u={label:"Retrait",amount:-b,date:y(),reference:"Retrait depuis votre compte",type:"operation"};i.logList.addLog(u),i.balance-=b,i.displayBalance(),e.reset()}};var handleEnterpriseDepositForm=L,handleEnterpriseWithdrawForm=T;const t=document.getElementById("enterprise-deposit-form"),e=document.getElementById("enterprise-withdraw-form"),a=document.getElementById("enterprise-deposit-amount-input"),o=document.getElementById("enterprise-deposit-amount-message"),n=document.getElementById("enterprise-withdraw-amount-input"),r=document.getElementById("enterprise-withdraw-amount-message"),c=document.getElementById("enterprise-tab-input"),i=new F(E.account.enterprise,document.getElementById("enterprise-account-owner"),document.getElementById("enterprise-account-balance"),document.getElementById("enterprise-account-log-list")),v=new I(Fe,_e);m.addTab(v),c.addEventListener("change",()=>{m.setActiveTab(v),l.clearList(),l=i.logList,i.logList.createPageLogs()}),t.addEventListener("submit",L),e.addEventListener("submit",T);{let R=function(Z){if(Z.preventDefault(),h(p,f)){const N=Number(p.value),ee={label:"D\xE9pot",amount:N,date:y(),reference:"D\xE9pot sur votre compte",type:"operation"};u.logList.addLog(ee),u.balance+=N,u.displayBalance(),d.reset()}};var handleOffshoreDepositForm=R;const d=document.getElementById("offshore-deposit-form"),p=document.getElementById("offshore-deposit-amount-input"),f=document.getElementById("offshore-deposit-amount-message"),b=document.getElementById("offshore-tab-input"),u=new F(E.account.offshore,document.getElementById("offshore-account-owner"),document.getElementById("offshore-account-balance"),document.getElementById("offshore-account-log-list")),D=new U(xe);m.addTab(D),b.addEventListener("change",()=>{m.setActiveTab(D),l.clearList(),l=u.logList,u.logList.createPageLogs()}),d.addEventListener("submit",R)}}const Se=document.getElementById("app");setTimeout(()=>{Se.classList.replace("app--loading","app--loaded")},1e3);
