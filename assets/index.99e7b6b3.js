const de=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};de();const b={bank:"fleeca",hasEnterprise:!0,hasOffshore:!0,account:{personal:{owner:"Garry Green",number:"0123456789",balance:48569,cash:4e4,theme:"dark",favoriteAccounts:[{name:"Lena Silvo",number:"0123456789"},{name:"Owen Chapman",number:"1234567890"},{name:"Pamela Padilla",number:"2345678901"},{name:"Garry Green",number:"3456789012"},{name:"Quentin Cooper",number:"4567890123"}],logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},enterprise:{owner:"Arthur Popov",balance:485321,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},offshore:{owner:"Quentin Cooper",balance:4123547,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]}}},pe=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0});class k{constructor(e,t,n){this.owner=e.owner,this.ownerElement=t,this.balance=e.balance,this.balanceElement=n,this.balanceNegativeClass="balance__value--negative",this.displayOwner(),this.displayBalance()}displayOwner(){this.ownerElement.textContent=this.owner}displayBalance(){this.balance<1?this.balanceElement.classList.contains(this.balanceNegativeClass)||this.balanceElement.classList.add(this.balanceNegativeClass):this.balanceElement.classList.contains(this.balanceNegativeClass)&&this.balanceElement.classList.remove(this.balanceNegativeClass),this.balanceElement.textContent=pe.format(this.balance)}}class fe extends k{constructor(e,t,n,o){super(e,t,o),this.balanceNegativeClass="section__balance--negative",this.accountNumber=e.number,this.accountNumberElement=n,this.cash=e.cash,this.theme=e.theme,this.displayNumber()}displayNumber(){this.accountNumberElement.textContent=this.accountNumber}}class he{constructor(e,t){this.initialTabs=e,this.tabListElement=t,this.activeTab=e[0],this.activeTab.element.classList.add("tab--active"),this.createInitialTabs()}addTab(e){this.tabListElement.appendChild(e.element)}deleteTab(e){this.tabListElement.removeChild(e.element)}createInitialTabs(){this.initialTabs.forEach(e=>{this.tabListElement.appendChild(e.element)})}setActiveTab(e){this.activeTab.name==="offshore"?this.deleteTab(this.activeTab):this.activeTab.element.classList.remove("tab--active"),this.activeTab=e,this.activeTab.element.classList.add("tab--active")}}class w{constructor(e,t,n=!1){if(this.name=e,this.elementId=t,this.template=document.getElementById("tab-template"),this.element=this.create(),n){const o=this.element.querySelector(".tab__input");o.checked=!0}}create(){const e=this.template.content.cloneNode(!0),t=e.querySelector(".tab"),n=e.querySelector(".tab__label"),o=e.querySelector(".tab__input");return n.textContent=this.name,n.setAttribute("for",this.elementId),o.setAttribute("id",this.elementId),t}}class y{constructor(e,t,n){this.inputElements=e,this.formElement=t,this.buttonElement=n,this.buttonIsActive=!1,this.CheckFieldsWithDebounce=this.debounce(()=>this.checkFields()),this.inputElements.forEach(o=>{o.addEventListener("keyup",()=>this.CheckFieldsWithDebounce())})}debounce(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,o)},t)}}checkFields(){console.log("check fields");const e=this.inputElements.every(t=>t.validity.valid);e&&!this.buttonIsActive?this.activateSubmitButton():!e&&this.buttonIsActive&&this.deactivateSubmitButton()}reset(){this.formElement.reset(),this.deactivateSubmitButton()}activateSubmitButton(){this.buttonIsActive=!0,this.buttonElement.classList.replace("button--disabled","button--primary"),this.buttonElement.removeAttribute("disabled")}deactivateSubmitButton(){this.buttonIsActive=!1,this.buttonElement.classList.replace("button--primary","button--disabled"),this.buttonElement.setAttribute("disabled","")}}class be{constructor(e,t){this.notificationListElement=e,this.notificationTemplate=document.getElementById("notification-template")}createNotification(e){const t=this.notificationTemplate.content.cloneNode(!0),n=t.querySelector(".notification"),o=t.querySelector(".notification__title"),i=t.querySelector(".notification__description");return n.classList.add(`notification--${e.type}`),o.textContent=e.title,i.textContent=e.description,n}deleteNotification(e){this.notificationListElement.removeChild(e)}displayNotification(e){const t=this.createNotification(e);this.notificationListElement.prepend(t),setTimeout(()=>{this.deleteNotification(t)},5e3)}}class S{constructor(e){this.detailsElement=e,this.closeWhenClickOutside=this.closeWhenClickOutside.bind(this),this.handleChange=this.handleChange.bind(this),this.detailsElement.addEventListener("toggle",this.handleChange)}close(){this.detailsElement.removeAttribute("open")}closeWhenClickOutside(e){this.detailsElement.contains(e.target)||this.close()}handleChange(){this.detailsElement.open?document.addEventListener("click",this.closeWhenClickOutside):document.removeEventListener("click",this.closeWhenClickOutside)}}class _{constructor(e,t,n){this.filters=e,this.filterListElement=t,this.handleFilterClick=n,this.displayFilters(),this.init()}displayFilters(){this.filters.forEach(e=>{this.filterListElement.appendChild(e.element),e.element.addEventListener("click",()=>{this.setActiveFilter(e),this.handleFilterClick(e.value)})})}setActiveFilter(e){this.activeFilter.disable(),this.activeFilter=e,this.activeFilter.activate()}init(){this.activeFilter=this.filters[0],this.activeFilter.activate()}reset(){this.setActiveFilter(this.filters[0])}}class f{constructor(e,t){this.label=e,this.value=t,this.template=document.getElementById("filter-template"),this.element=this.createElement()}createElement(){const t=this.template.content.cloneNode(!0).querySelector(".filter");return t.textContent=this.label,t}activate(){this.element.classList.add("filter--active"),this.element.setAttribute("disabled","")}disable(){this.element.classList.remove("filter--active"),this.element.removeAttribute("disabled")}}const ge=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0}),ye=new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"}),O=10;class B{constructor(e,t){this.logs=e,this.logListElement=t,this.logTemplate=document.getElementById("log-template"),this.filteredLogs=!1,this.filter=!1,this.page=1,this.observer=new IntersectionObserver(n=>this.getNextPage(n)),this.observedLogElement=!1,this.getNextPage=this.getNextPage.bind(this)}addLog(e){this.logs.unshift(e)}createLog(e){const n=this.logTemplate.content.cloneNode(!0).querySelector(".log"),o=n.querySelector(".log__icon"),i=n.querySelector(".log__type"),l=n.querySelector(".log__date"),C=n.querySelector(".log__amount"),L=n.querySelector(".log__reference");return o.classList.add(`log__icon--${e.type}`),C.classList.add(`log__amount--${e.amount>0?"up":"down"}`),i.textContent=e.label,l.textContent=ye.format(new Date(e.date)),C.textContent=ge.format(e.amount),L.textContent=e.reference,n}createPageLogs(e){e.forEach((t,n)=>{const o=n===e.length-1,i=this.page<this.pageTotal,l=this.createLog(t);o&&i&&(this.observeLastPageLog(l),this.observedLogElement=l),this.logListElement.appendChild(l)})}getNextPage(e){e[0].isIntersecting&&(this.page+=1,this.unobserveLastPageLog(),this.filter?this.displayFilteredLogs():this.displayLogs())}getPageTotal(e){const t=e.length;this.pageTotal=Math.ceil(t/O)}getPageLogs(e){const t=O*(this.page-1),n=O*this.page;return e.slice(t,n)}getFilteredLogs(){return this.logs.filter(e=>e.type===this.filter)}displayInitialLogs(){this.filter?(this.filteredLogs=this.getFilteredLogs(),this.getPageTotal(this.filteredLogs),this.displayFilteredLogs()):(this.getPageTotal(this.logs),this.displayLogs())}displayFilteredLogs(){const e=this.getPageLogs(this.filteredLogs);this.createPageLogs(e)}displayLogs(){const e=this.getPageLogs(this.logs);this.createPageLogs(e)}reset(){this.clear(),this.displayInitialLogs()}clear(){this.unobserveLastPageLog(),this.logListElement.scrollTop=0,this.logListElement.innerHTML="",this.page>1&&(this.page=1)}observeLastPageLog(e){this.observedLogElement||(this.observer.observe(e),this.observedLogElement=e)}unobserveLastPageLog(){this.observedLogElement&&(this.observer.unobserve(this.observedLogElement),this.observedLogElement=!1)}}const ve=5;class Ee{constructor(e){this.accounts=e}displayCount(e){const t=String(this.accounts.length);e.textContent!==t&&(e.textContent=t)}addAccount(e){if(this.accounts.length<ve)this.accounts=[e,...this.accounts];else throw new Error("Account limit is reached")}deleteAccount(e){this.accounts=this.accounts.filter(t=>t.number!==e.number)}}class Le{constructor(e,t,n){this.accountList=e,this.accountListElement=t,this.accountListCountElement=document.getElementById("personal-favorite-account-count"),this.deleteFavoriteAccount=n,this.accountTemplate=document.getElementById("favorite-account-delete-template"),this.createAccount=this.createAccount.bind(this)}createAccount(e){const t=this.accountTemplate.content.cloneNode(!0),n=t.querySelector(".account"),o=n.querySelector(".account__name"),i=n.querySelector(".account__number"),l=n.querySelector(".account__text-button");o.textContent=e.name,i.textContent=e.number,l.addEventListener("click",()=>{this.deleteFavoriteAccount(e)},{once:!0}),this.accountListElement.appendChild(t)}createAccounts(){this.accountList.accounts.forEach(this.createAccount),this.accountList.displayCount(this.accountListCountElement)}displayCount(){}reset(){this.clear(),this.createAccounts()}clear(){this.accountListElement.innerHTML=""}}class Te{constructor(e,t,n){this.accountList=e,this.accountListElement=t,this.accountListCountElement=document.getElementById("personal-transfer-favorite-account-count"),this.pasteAccountNumber=n,this.accountTemplate=document.getElementById("favorite-account-paste-template"),this.createAccount=this.createAccount.bind(this)}createAccount(e){const t=this.accountTemplate.content.cloneNode(!0),n=t.querySelector(".account"),o=n.querySelector(".account__name"),i=n.querySelector(".account__number");o.textContent=e.name,i.textContent=e.number,n.addEventListener("click",()=>{this.pasteAccountNumber(e.number)}),this.accountListElement.appendChild(t)}createAccounts(){this.accountList.accounts.forEach(this.createAccount),this.accountList.displayCount(this.accountListCountElement)}reset(){this.clear(),this.createAccounts()}clear(){this.accountListElement.innerHTML=""}}class we{constructor(e){this.activeView=e,this.activeView.activate()}switch(e){this.activeView.deactivate(),this.activeView=e,this.activeView.activate()}}class I{constructor(e,t,n,o){this.viewElement=e,this.filterList=t,this.logList=n,this.favoriteAccountList=o}activate(){this.viewElement.classList.add("view--active"),this.logList&&(this.logList.logListElement.scrollTop=0,this.logList.displayInitialLogs()),this.favoriteAccountList&&this.favoriteAccountList.createAccounts()}deactivate(){this.viewElement.classList.remove("view--active"),this.filterList&&this.filterList.reset(),this.logList&&(this.logList.filter&&(this.logList.filter=!1),this.logList.clear()),this.favoriteAccountList&&this.favoriteAccountList.clear()}}function Ie(a){switch(a){case"fleeca":document.documentElement.classList.add("fleeca");break;case"maze":document.documentElement.classList.add("maze");break;default:throw new Error("The theme is not valid")}}Ie(b.bank);function h(){return new Date().toISOString()}const s=new fe(b.account.personal,document.getElementById("personal-account-owner"),document.getElementById("personal-account-number"),document.getElementById("personal-account-balance"));if(s.theme==="dark"){const a=document.getElementById("personal-theme-button");a.checked=!0,document.documentElement.classList.add("dark")}const p=new B(b.account.personal.logs,document.getElementById("personal-log-list")),v=new B(b.account.personal.logs.filter(a=>a.type==="operation"),document.getElementById("personal-operation-log-list")),P=new y([document.getElementById("personal-favorite-account-name-input"),document.getElementById("personal-favorite-account-number-input")],document.getElementById("personal-favorite-account-form"),document.getElementById("personal-favorite-account-form-button")),x=new y([document.getElementById("personal-deposit-amount-input")],document.getElementById("personal-deposit-form"),document.getElementById("personal-deposit-form-button")),V=new y([document.getElementById("personal-withdraw-amount-input")],document.getElementById("personal-withdraw-form"),document.getElementById("personal-withdraw-form-button")),D=new y([document.getElementById("personal-transfer-amount-input"),document.getElementById("personal-transfer-account-number-input"),document.getElementById("personal-transfer-reference-input")],document.getElementById("personal-transfer-form"),document.getElementById("personal-transfer-form-button")),r=new be(document.getElementById("notification-list")),Ae=new S(document.getElementById("personal-filter-dropdown")),Ce=new f("Aucun",!1),Fe=new f("Op\xE9rations","operation"),Be=new f("Transferts","transfer");function De(a){p.filter=a,p.reset(),Ae.close()}const Ne=new _([Ce,Fe,Be],document.getElementById("personal-filter-list"),De),E=new Ee(b.account.personal.favoriteAccounts);function Re(a){E.deleteAccount(a),q.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait supprim\xE9 avec succ\xE8s",type:"success"})}const J=document.getElementById("personal-transfer-account-number-input");function Oe(a){J.value!==a&&(J.value=a,D.checkFields(),r.displayNotification({title:"Compte favoris",description:`le compte ${a} a \xE9tait ajouter au formulaire`,type:"success"}))}const q=new Le(E,document.getElementById("delete-favorite-account-list"),Re),ke=new Te(E,document.getElementById("paste-favorite-account-list"),Oe),X=new w("mon compte","personal-tab",!0),Y=new w("op\xE9ration","personal-operation-tab"),Z=new w("transfert","personal-transfer-tab"),c=new he([X,Y,Z],document.getElementById("tab-list")),ee=new I(document.getElementById("personal-view"),Ne,p,q),Se=new I(document.getElementById("personal-operation-view"),!1,v,!1),_e=new I(document.getElementById("personal-transfer-view"),!1,!1,ke),A=new we(ee),Pe=document.getElementById("personal-tab"),xe=document.getElementById("personal-operation-tab"),Ve=document.getElementById("personal-transfer-tab");function qe(){c.setActiveTab(X),A.switch(ee)}function We(){c.setActiveTab(Y),A.switch(Se)}function Ge(){c.setActiveTab(Z),A.switch(_e)}function Me(a){s.theme=a.target.checked?"dark":"light",s.theme==="dark"?document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"):document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark")}const $e=document.getElementById("personal-theme-button");function ze(a){a.preventDefault();const e=new FormData(P.formElement),t={name:e.get("name"),number:e.get("number")},n=E.accounts.length<5,o=E.accounts.find(i=>i.number===t)===-1;n&&o?(E.addAccount(t),q.reset(),P.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait enregistr\xE9 avec succ\xE8s",type:"success"})):n?o||r.displayNotification({title:"Compte favoris",description:`Le compte ${t.number} existe deja dans la liste`,type:"error"}):r.displayNotification({title:"Compte favoris",description:"Limite de compte favoris enregistr\xE9s atteinte",type:"error"})}function Ue(a){a.preventDefault();const e=new FormData(x.formElement),t=Number(e.get("amount"));if(s.cash>t){const n={label:"D\xE9pot",amount:t,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(n),c.activeTab.elementId==="personal-tab"&&p.reset(),v.addLog(n),c.activeTab.elementId==="personal-operation-tab"&&v.reset(),s.cash-=t,s.balance+=t,s.displayBalance(),x.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})}function He(){if(s.cash>0){const a={label:"D\xE9pot",amount:s.cash,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(a),c.activeTab.elementId==="personal-tab"&&p.reset(),v.addLog(a),c.activeTab.elementId==="personal-operation-tab"&&v.reset(),s.cash=0,r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})}function je(a){a.preventDefault();const e=new FormData(V.formElement),t=Number(e.get("amount"));if(s.balance>=t){const n={label:"Retrait",amount:-t,date:h(),reference:"Retrait depuis votre compte",type:"operation"};p.addLog(n),c.activeTab.elementId==="personal-tab"&&p.reset(),v.addLog(n),c.activeTab.elementId==="personal-operation-tab"&&v.reset(),s.cash+=t,s.balance-=t,s.displayBalance(),V.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}function Qe(a){a.preventDefault();const e=new FormData(D.formElement),t=Number(e.get("amount"));if(s.balance>=t){const n={label:"Transfert",amount:-t,date:h(),reference:e.get("reference"),type:"operation"};p.addLog(n),c.activeTab.elementId==="personal-tab"&&p.reset(),s.balance-=t,s.displayBalance(),D.reset(),r.displayNotification({title:"Transfert",description:"le transfert a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Transfert",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}const Ke=document.getElementById("personal-all-deposit-button");P.formElement.addEventListener("submit",ze);x.formElement.addEventListener("submit",Ue);Ke.addEventListener("click",He);V.formElement.addEventListener("submit",je);D.formElement.addEventListener("submit",Qe);$e.addEventListener("click",Me);Pe.addEventListener("change",qe);xe.addEventListener("change",We);Ve.addEventListener("change",Ge);{let l=function(m){e.filter=m,e.reset(),t.close()},G=function(){c.setActiveTab(W),A.switch(ne)},M=function(m){m.preventDefault();const u=new FormData(L.formElement),d=Number(u.get("amount"));if(s.cash>d){const T={label:"D\xE9pot",amount:d,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};e.addLog(T),c.activeTab.elementId==="enterprise-tab"&&e.reset(),s.cash-=d,a.balance+=d,a.displayBalance(),L.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},$=function(){if(s.cash>0){const m={label:"D\xE9pot",amount:s.cash,date:h(),reference:"D\xE9pot le compte de l'entreprise",type:"operation"};e.addLog(m),c.activeTab.elementId==="enterprise-tab"&&e.reset(),s.cash=0,a.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})},z=function(m){m.preventDefault();const u=new FormData(N.formElement),d=Number(u.get("amount"));if(a.balance>d){const T={label:"Retrait",amount:-d,date:h(),reference:"Retrait depuis le compte de l'entreprise",type:"operation"};e.addLog(T),c.activeTab.elementId==="enterprise-tab"&&e.reset(),s.cash+=d,a.balance-=d,a.displayBalance(),N.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})};var setEnterpriseLogListFilter=l,showEnterpriseView=G,depositToEnterpriseAccount=M,depositAllToEnterpriseAccount=$,withdrawToEnterpriseAccount=z;const a=new k(b.account.enterprise,document.getElementById("enterprise-account-owner"),document.getElementById("enterprise-account-balance")),e=new B(b.account.enterprise.logs,document.getElementById("enterprise-log-list")),t=new S(document.getElementById("enterprise-filter-dropdown")),n=new f("Aucun",!1),o=new f("Op\xE9rations","operation"),i=new f("Transferts","transfer"),C=new _([n,o,i],document.getElementById("enterprise-filter-list"),l),L=new y([document.getElementById("enterprise-deposit-amount-input")],document.getElementById("enterprise-deposit-form"),document.getElementById("enterprise-deposit-form-button")),N=new y([document.getElementById("enterprise-withdraw-amount-input")],document.getElementById("enterprise-withdraw-form"),document.getElementById("enterprise-withdraw-form-button")),W=new w("entreprise","enterprise-tab",!1);c.addTab(W);const te=document.getElementById("enterprise-tab"),ne=new I(document.getElementById("enterprise-view"),C,e,!1),ae=document.getElementById("enterprise-all-deposit-button");te.addEventListener("change",G),L.formElement.addEventListener("submit",M),N.formElement.addEventListener("submit",z),ae.addEventListener("click",$);{let U=function(g){u.filter=g,u.reset(),d.close()},j=function(){c.addTab(H);const g=document.getElementById("offshore-tab");g.checked=!0,c.setActiveTab(H),A.switch(ce)},Q=function(g){g.preventDefault();const me=new FormData(R.formElement),F=Number(me.get("amount"));if(s.cash>F){const ue={label:"D\xE9pot",amount:F,date:h(),reference:"D\xE9pot sur le compte offshore",type:"operation"};u.addLog(ue),c.activeTab.elementId==="offshore-tab"&&u.reset(),s.cash-=F,m.balance+=F,m.displayBalance(),R.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},K=function(){if(s.cash>0){const g={label:"D\xE9pot",amount:s.cash,date:h(),reference:"D\xE9pot sur le compte offshore",type:"operation"};u.addLog(g),c.activeTab.name==="offshore"&&u.reset(),s.cash=0,m.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})};var setOffshoreLogListFilter=U,showOffshoreView=j,depositToOffshoreAccount=Q,depositAllToOffshoreAccount=K;const m=new k(b.account.offshore,document.getElementById("offshore-account-owner"),document.getElementById("offshore-account-balance")),u=new B(b.account.offshore.logs,document.getElementById("offshore-log-list")),d=new S(document.getElementById("offshore-filter-dropdown")),T=new f("Aucun",!1),oe=new f("Op\xE9rations","operation"),se=new f("Transferts","transfer"),ie=new _([T,oe,se],document.getElementById("offshore-filter-list"),U),R=new y([document.getElementById("offshore-deposit-amount-input")],document.getElementById("offshore-deposit-form"),document.getElementById("offshore-deposit-form-button")),H=new w("offshore","offshore-tab",!1),re=document.getElementById("offshore-tab-button"),ce=new I(document.getElementById("offshore-view"),ie,u,!1),le=document.getElementById("offshore-all-deposit-button");re.addEventListener("click",j),R.formElement.addEventListener("submit",Q),le.addEventListener("click",K)}}const Je=document.getElementById("app");setTimeout(()=>{Je.classList.replace("app--loading","app--loaded")},1e3);
