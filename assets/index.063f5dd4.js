const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};ne();const h={bank:"fleeca",hasEnterprise:!0,hasOffshore:!0,account:{personal:{owner:"Garry Green",number:"0123456789",balance:48569,cash:4e4,theme:"dark",favoriteAccounts:[{name:"Lena Silvo",number:"0123456789"},{name:"Owen Chapman",number:"1234567890"},{name:"Pamela Padilla",number:"2345678901"},{name:"Garry Green",number:"3456789012"},{name:"Quentin Cooper",number:"4567890123"}],logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},enterprise:{owner:"Arthur Popov",balance:485321,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},offshore:{owner:"Quentin Cooper",balance:4123547,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]}}},ae=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0});class _{constructor(e,t,n){this.owner=e.owner,this.ownerElement=t,this.balance=e.balance,this.balanceElement=n,this.balanceNegativeClass="balance__value--negative",this.displayOwner(),this.displayBalance()}displayOwner(){this.ownerElement.textContent=this.owner}displayBalance(){this.balance<1?this.balanceElement.classList.contains(this.balanceNegativeClass)||this.balanceElement.classList.add(this.balanceNegativeClass):this.balanceElement.classList.contains(this.balanceNegativeClass)&&this.balanceElement.classList.remove(this.balanceNegativeClass),this.balanceElement.textContent=ae.format(this.balance)}}class oe extends _{constructor(e,t,n,o){super(e,t,o),this.balanceNegativeClass="section__balance--negative",this.accountNumber=e.number,this.accountNumberElement=n,this.cash=e.cash,this.theme=e.theme,this.displayNumber()}displayNumber(){this.accountNumberElement.textContent=this.accountNumber}}class se{constructor(e,t){this.initialTabs=e,this.tabListElement=t,this.activeTab=e[0],this.activeTab.element.classList.add("tab--active"),this.createInitialTabs()}addTab(e){this.tabListElement.appendChild(e.element)}deleteTab(e){this.tabListElement.removeChild(e.element)}createInitialTabs(){this.initialTabs.forEach(e=>{this.tabListElement.appendChild(e.element)})}setActiveTab(e){this.activeTab.name==="offshore"?this.deleteTab(this.activeTab):this.activeTab.element.classList.remove("tab--active"),this.activeTab=e,this.activeTab.element.classList.add("tab--active")}}class T{constructor(e,t,n=!1){if(this.name=e,this.elementId=t,this.template=document.getElementById("tab-template"),this.element=this.create(),n){const o=this.element.querySelector(".tab__input");o.checked=!0}}create(){const e=this.template.content.cloneNode(!0),t=e.querySelector(".tab"),n=e.querySelector(".tab__label"),o=e.querySelector(".tab__input");return n.textContent=this.name,n.setAttribute("for",this.elementId),o.setAttribute("id",this.elementId),t}}class E{constructor(e,t,n){this.inputElements=e,this.formElement=t,this.buttonElement=n,this.buttonIsActive=!1,this.CheckFieldsWithDebounce=this.debounce(()=>this.checkFields()),this.inputElements.forEach(o=>{o.addEventListener("keyup",()=>this.CheckFieldsWithDebounce())})}debounce(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,o)},t)}}checkFields(){console.log("check fields");const e=this.inputElements.every(t=>t.validity.valid);e&&!this.buttonIsActive?this.activateSubmitButton():!e&&this.buttonIsActive&&this.deactivateSubmitButton()}reset(){this.formElement.reset(),this.deactivateSubmitButton()}activateSubmitButton(){this.buttonIsActive=!0,this.buttonElement.classList.replace("button--disabled","button--primary"),this.buttonElement.removeAttribute("disabled")}deactivateSubmitButton(){this.buttonIsActive=!1,this.buttonElement.classList.replace("button--primary","button--disabled"),this.buttonElement.setAttribute("disabled","")}}class ie{constructor(e,t){this.notificationListElement=e,this.notificationTemplate=document.getElementById("notification-template")}createNotification(e){const t=this.notificationTemplate.content.cloneNode(!0),n=t.querySelector(".notification"),o=t.querySelector(".notification__title"),i=t.querySelector(".notification__description");return n.classList.add(`notification--${e.type}`),o.textContent=e.title,i.textContent=e.description,n}deleteNotification(e){this.notificationListElement.removeChild(e)}displayNotification(e){const t=this.createNotification(e);this.notificationListElement.prepend(t),setTimeout(()=>{this.deleteNotification(t)},5e3)}}class R{constructor(e){this.detailsElement=e,this.titleElement=this.detailsElement.querySelector(".filter__header"),this.initialButtonElement=this.detailsElement.querySelector(".filter__button"),this.activeButtonElement=this.initialButtonElement,this.closeDetails=this.closeDetails.bind(this),this.handleDetails=this.handleDetails.bind(this),this.detailsElement.addEventListener("toggle",this.handleDetails)}closeDetails(e){this.detailsElement.contains(e.target)||this.detailsElement.removeAttribute("open")}handleDetails(){this.detailsElement.open?document.addEventListener("click",this.closeDetails):document.removeEventListener("click",this.closeDetails)}setActiveFilter(e){this.detailsElement.removeAttribute("open"),this.activeButtonElement.classList.replace("filter__button--inactive","filter__button--active"),this.activeButtonElement.removeAttribute("disabled"),this.activeButtonElement=e,this.activeButtonElement.classList.replace("filter__button--active","filter__button--inactive"),this.activeButtonElement.setAttribute("disabled",""),this.titleElement.textContent=this.activeButtonElement.dataset.filter==="all"?"Filtrer les r\xE9sultats":`Filtre: ${this.activeButtonElement.textContent}`}reset(){this.setActiveFilter(this.initialButtonElement)}}const re=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0}),ce=new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"}),N=10;class D{constructor(e,t){this.logs=e,this.logListElement=t,this.logTemplate=document.getElementById("log-template"),this.filteredLogs=!1,this.filter=!1,this.page=1,this.observer=new IntersectionObserver(n=>this.getNextPage(n)),this.observedLogElement=!1,this.getNextPage=this.getNextPage.bind(this)}addLog(e){this.logs.unshift(e)}createLog(e){const n=this.logTemplate.content.cloneNode(!0).querySelector(".log"),o=n.querySelector(".log__icon"),i=n.querySelector(".log__type"),m=n.querySelector(".log__date"),A=n.querySelector(".log__amount"),F=n.querySelector(".log__reference");return o.classList.add(`log__icon--${e.type}`),A.classList.add(`log__amount--${e.amount>0?"up":"down"}`),i.textContent=e.label,m.textContent=ce.format(new Date(e.date)),A.textContent=re.format(e.amount),F.textContent=e.reference,n}createPageLogs(e){e.forEach((t,n)=>{const o=n===e.length-1,i=this.page<this.pageTotal,m=this.createLog(t);o&&i&&(this.observeLastPageLog(m),this.observedLogElement=m),this.logListElement.appendChild(m)})}getNextPage(e){e[0].isIntersecting&&(this.page+=1,this.unobserveLastPageLog(),this.filter?this.displayFilteredLogs():this.displayLogs())}getPageTotal(e){const t=e.length;this.pageTotal=Math.ceil(t/N)}getPageLogs(e){const t=N*(this.page-1),n=N*this.page;return e.slice(t,n)}getFilteredLogs(){return this.logs.filter(e=>e.type===this.filter)}displayInitialLogs(){this.filter?(this.filteredLogs=this.getFilteredLogs(),this.getPageTotal(this.filteredLogs),this.displayFilteredLogs()):(this.getPageTotal(this.logs),this.displayLogs())}displayFilteredLogs(){const e=this.getPageLogs(this.filteredLogs);this.createPageLogs(e)}displayLogs(){const e=this.getPageLogs(this.logs);this.createPageLogs(e)}reset(){this.clear(),this.displayInitialLogs()}clear(){this.unobserveLastPageLog(),this.logListElement.scrollTop=0,this.logListElement.innerHTML="",this.page>1&&(this.page=1)}observeLastPageLog(e){this.observedLogElement||(this.observer.observe(e),this.observedLogElement=e)}unobserveLastPageLog(){this.observedLogElement&&(this.observer.unobserve(this.observedLogElement),this.observedLogElement=!1)}}const le=5;class me{constructor(e){this.accounts=e}displayCount(e){const t=String(this.accounts.length);e.textContent!==t&&(e.textContent=t)}addAccount(e){if(this.accounts.length<le)this.accounts=[e,...this.accounts];else throw new Error("Account limit is reached")}deleteAccount(e){this.accounts=this.accounts.filter(t=>t.number!==e.number)}}class ue{constructor(e,t,n){this.accountList=e,this.accountListElement=t,this.accountListCountElement=document.getElementById("personal-favorite-account-count"),this.deleteFavoriteAccount=n,this.accountTemplate=document.getElementById("favorite-account-delete-template"),this.createAccount=this.createAccount.bind(this)}createAccount(e){const t=this.accountTemplate.content.cloneNode(!0),n=t.querySelector(".account"),o=n.querySelector(".account__name"),i=n.querySelector(".account__number"),m=n.querySelector(".account__text-button");o.textContent=e.name,i.textContent=e.number,m.addEventListener("click",()=>{this.deleteFavoriteAccount(e)},{once:!0}),this.accountListElement.appendChild(t)}createAccounts(){this.accountList.accounts.forEach(this.createAccount),this.accountList.displayCount(this.accountListCountElement)}displayCount(){}reset(){this.clear(),this.createAccounts()}clear(){this.accountListElement.innerHTML=""}}class de{constructor(e,t,n){this.accountList=e,this.accountListElement=t,this.accountListCountElement=document.getElementById("personal-transfer-favorite-account-count"),this.pasteAccountNumber=n,this.accountTemplate=document.getElementById("favorite-account-paste-template"),this.createAccount=this.createAccount.bind(this)}createAccount(e){const t=this.accountTemplate.content.cloneNode(!0),n=t.querySelector(".account"),o=n.querySelector(".account__name"),i=n.querySelector(".account__number");o.textContent=e.name,i.textContent=e.number,n.addEventListener("click",()=>{this.pasteAccountNumber(e.number)}),this.accountListElement.appendChild(t)}createAccounts(){this.accountList.accounts.forEach(this.createAccount),this.accountList.displayCount(this.accountListCountElement)}reset(){this.clear(),this.createAccounts()}clear(){this.accountListElement.innerHTML=""}}class pe{constructor(e){this.activeView=e,this.activeView.activate()}switch(e){this.activeView.deactivate(),this.activeView=e,this.activeView.activate()}}class w{constructor(e,t,n,o){this.viewElement=e,this.filterDropdown=t,this.logList=n,this.favoriteAccountList=o}activate(){this.viewElement.classList.add("view--active"),this.logList&&(this.logList.logListElement.scrollTop=0,this.logList.displayInitialLogs()),this.favoriteAccountList&&this.favoriteAccountList.createAccounts()}deactivate(){this.viewElement.classList.remove("view--active"),this.filterDropdown&&this.filterDropdown.reset(),this.logList&&(this.logList.filter&&(this.logList.filter=!1),this.logList.clear()),this.favoriteAccountList&&this.favoriteAccountList.clear()}}function fe(a){switch(a){case"fleeca":document.documentElement.classList.add("fleeca");break;case"maze":document.documentElement.classList.add("maze");break;default:throw new Error("The theme is not valid")}}fe(h.bank);function f(){return new Date().toISOString()}const s=new oe(h.account.personal,document.getElementById("personal-account-owner"),document.getElementById("personal-account-number"),document.getElementById("personal-account-balance"));if(s.theme==="dark"){const a=document.getElementById("personal-theme-button");a.checked=!0,document.documentElement.classList.add("dark")}const p=new D(h.account.personal.logs,document.getElementById("personal-log-list")),v=new D(h.account.personal.logs.filter(a=>a.type==="operation"),document.getElementById("personal-operation-log-list")),S=new E([document.getElementById("personal-favorite-account-name-input"),document.getElementById("personal-favorite-account-number-input")],document.getElementById("personal-favorite-account-form"),document.getElementById("personal-favorite-account-form-button")),k=new E([document.getElementById("personal-deposit-amount-input")],document.getElementById("personal-deposit-form"),document.getElementById("personal-deposit-form-button")),O=new E([document.getElementById("personal-withdraw-amount-input")],document.getElementById("personal-withdraw-form"),document.getElementById("personal-withdraw-form-button")),C=new E([document.getElementById("personal-transfer-amount-input"),document.getElementById("personal-transfer-account-number-input"),document.getElementById("personal-transfer-reference-input")],document.getElementById("personal-transfer-form"),document.getElementById("personal-transfer-form-button")),r=new ie(document.getElementById("notification-list")),P=new R(document.getElementById("personal-filter-dropdown")),he=P.detailsElement.querySelectorAll(".filter__button");he.forEach(a=>{a.addEventListener("click",e=>{const t=e.target.dataset.filter;P.setActiveFilter(e.target),p.filter=t==="all"?!1:t,p.reset()})});const L=new me(h.account.personal.favoriteAccounts);function be(a){L.deleteAccount(a),x.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait supprim\xE9 avec succ\xE8s",type:"success"})}const H=document.getElementById("personal-transfer-account-number-input");function ge(a){H.value!==a&&(H.value=a,C.checkFields(),r.displayNotification({title:"Compte favoris",description:`le compte ${a} a \xE9tait ajouter au formulaire`,type:"success"}))}const x=new ue(L,document.getElementById("delete-favorite-account-list"),be),ye=new de(L,document.getElementById("paste-favorite-account-list"),ge),j=new T("mon compte","personal-tab",!0),Q=new T("op\xE9ration","personal-operation-tab"),K=new T("transfert","personal-transfer-tab"),c=new se([j,Q,K],document.getElementById("tab-list")),J=new w(document.getElementById("personal-view"),P,p,x),Ee=new w(document.getElementById("personal-operation-view"),!1,v,!1),ve=new w(document.getElementById("personal-transfer-view"),!1,!1,ye),I=new pe(J),Le=document.getElementById("personal-tab"),Te=document.getElementById("personal-operation-tab"),we=document.getElementById("personal-transfer-tab");function Ie(){c.setActiveTab(j),I.switch(J)}function Ae(){c.setActiveTab(Q),I.switch(Ee)}function Be(){c.setActiveTab(K),I.switch(ve)}function De(a){s.theme=a.target.checked?"dark":"light",s.theme==="dark"?document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"):document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark")}const Ce=document.getElementById("personal-theme-button");function Fe(a){a.preventDefault();const e=new FormData(S.formElement),t={name:e.get("name"),number:e.get("number")},n=L.accounts.length<5,o=L.accounts.find(i=>i.number===t)===-1;n&&o?(L.addAccount(t),x.reset(),S.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait enregistr\xE9 avec succ\xE8s",type:"success"})):n?o||r.displayNotification({title:"Compte favoris",description:`Le compte ${t.number} existe deja dans la liste`,type:"error"}):r.displayNotification({title:"Compte favoris",description:"Limite de compte favoris enregistr\xE9s atteinte",type:"error"})}function Ne(a){a.preventDefault();const e=new FormData(k.formElement),t=Number(e.get("amount"));if(s.cash>t){const n={label:"D\xE9pot",amount:t,date:f(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(n),c.activeTab.elementId==="personal-tab"&&p.reset(),v.addLog(n),c.activeTab.elementId==="personal-operation-tab"&&v.reset(),s.cash-=t,s.balance+=t,s.displayBalance(),k.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})}function _e(){if(s.cash>0){const a={label:"D\xE9pot",amount:s.cash,date:f(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(a),c.activeTab.elementId==="personal-tab"&&p.reset(),v.addLog(a),c.activeTab.elementId==="personal-operation-tab"&&v.reset(),s.cash=0,r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})}function Re(a){a.preventDefault();const e=new FormData(O.formElement),t=Number(e.get("amount"));if(s.balance>=t){const n={label:"Retrait",amount:-t,date:f(),reference:"Retrait depuis votre compte",type:"operation"};p.addLog(n),c.activeTab.elementId==="personal-tab"&&p.reset(),v.addLog(n),c.activeTab.elementId==="personal-operation-tab"&&v.reset(),s.cash+=t,s.balance-=t,s.displayBalance(),O.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}function Se(a){a.preventDefault();const e=new FormData(C.formElement),t=Number(e.get("amount"));if(s.balance>=t){const n={label:"Transfert",amount:-t,date:f(),reference:e.get("reference"),type:"operation"};p.addLog(n),c.activeTab.elementId==="personal-tab"&&p.reset(),s.balance-=t,s.displayBalance(),C.reset(),r.displayNotification({title:"Transfert",description:"le transfert a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Transfert",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}const ke=document.getElementById("personal-all-deposit-button");S.formElement.addEventListener("submit",Fe);k.formElement.addEventListener("submit",Ne);ke.addEventListener("click",_e);O.formElement.addEventListener("submit",Re);C.formElement.addEventListener("submit",Se);Ce.addEventListener("click",De);Le.addEventListener("change",Ie);Te.addEventListener("change",Ae);we.addEventListener("change",Be);{let q=function(){c.setActiveTab(m),I.switch(F)},V=function(d){d.preventDefault();const u=new FormData(n.formElement),l=Number(u.get("amount"));if(s.cash>l){const b={label:"D\xE9pot",amount:l,date:f(),reference:"D\xE9pot sur votre compte",type:"operation"};e.addLog(b),c.activeTab.elementId==="enterprise-tab"&&e.reset(),s.cash-=l,a.balance+=l,a.displayBalance(),n.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},$=function(){if(s.cash>0){const d={label:"D\xE9pot",amount:s.cash,date:f(),reference:"D\xE9pot le compte de l'entreprise",type:"operation"};e.addLog(d),c.activeTab.elementId==="enterprise-tab"&&e.reset(),s.cash=0,a.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})},G=function(d){d.preventDefault();const u=new FormData(o.formElement),l=Number(u.get("amount"));if(a.balance>l){const b={label:"Retrait",amount:-l,date:f(),reference:"Retrait depuis le compte de l'entreprise",type:"operation"};e.addLog(b),c.activeTab.elementId==="enterprise-tab"&&e.reset(),s.cash+=l,a.balance-=l,a.displayBalance(),o.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})};var showEnterpriseView=q,depositToEnterpriseAccount=V,depositAllToEnterpriseAccount=$,withdrawToEnterpriseAccount=G;const a=new _(h.account.enterprise,document.getElementById("enterprise-account-owner"),document.getElementById("enterprise-account-balance")),e=new D(h.account.enterprise.logs,document.getElementById("enterprise-log-list")),t=new R(document.getElementById("enterprise-filter-dropdown")),n=new E([document.getElementById("enterprise-deposit-amount-input")],document.getElementById("enterprise-deposit-form"),document.getElementById("enterprise-deposit-form-button")),o=new E([document.getElementById("enterprise-withdraw-amount-input")],document.getElementById("enterprise-withdraw-form"),document.getElementById("enterprise-withdraw-form-button"));t.detailsElement.querySelectorAll(".filter__button").forEach(d=>{d.addEventListener("click",u=>{const l=u.target.dataset.filter;t.setActiveFilter(u.target),e.filter=l==="all"?!1:l,e.reset()})});const m=new T("entreprise","enterprise-tab",!1);c.addTab(m);const A=document.getElementById("enterprise-tab"),F=new w(document.getElementById("enterprise-view"),t,e,!1),X=document.getElementById("enterprise-all-deposit-button");A.addEventListener("click",q),n.formElement.addEventListener("submit",V),o.formElement.addEventListener("submit",G),X.addEventListener("click",$);{let z=function(){c.addTab(M);const g=document.getElementById("offshore-tab");g.checked=!0,c.setActiveTab(M),I.switch(Z)},U=function(g){g.preventDefault();const B=new FormData(b.formElement),y=Number(B.get("amount"));if(s.cash>y){const te={label:"D\xE9pot",amount:y,date:f(),reference:"D\xE9pot sur le compte offshore",type:"operation"};u.addLog(te),c.activeTab.elementId==="offshore-tab"&&u.reset(),s.cash-=y,d.balance+=y,d.displayBalance(),b.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},W=function(){if(s.cash>0){const g={label:"D\xE9pot",amount:s.cash,date:f(),reference:"D\xE9pot sur le compte offshore",type:"operation"};u.addLog(g),c.activeTab.name==="offshore"&&u.reset(),s.cash=0,d.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})};var showOffshoreView=z,depositToOffshoreAccount=U,depositAllToOffshoreAccount=W;const d=new _(h.account.offshore,document.getElementById("offshore-account-owner"),document.getElementById("offshore-account-balance")),u=new D(h.account.offshore.logs,document.getElementById("offshore-log-list")),l=new R(document.getElementById("offshore-filter-dropdown")),b=new E([document.getElementById("offshore-deposit-amount-input")],document.getElementById("offshore-deposit-form"),document.getElementById("offshore-deposit-form-button"));l.detailsElement.querySelectorAll(".filter__button").forEach(g=>{g.addEventListener("click",B=>{const y=B.target.dataset.filter;l.setActiveFilter(B.target),u.filter=y==="all"?!1:y,u.reset()})});const M=new T("offshore","offshore-tab",!1),Y=document.getElementById("offshore-tab-button"),Z=new w(document.getElementById("offshore-view"),l,u,!1),ee=document.getElementById("offshore-all-deposit-button");Y.addEventListener("click",z),b.formElement.addEventListener("submit",U),ee.addEventListener("click",W)}}const Oe=document.getElementById("app");setTimeout(()=>{Oe.classList.replace("app--loading","app--loaded")},1e3);
