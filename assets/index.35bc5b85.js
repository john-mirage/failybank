const q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}};q();const b={bank:"fleeca",hasEnterprise:!0,hasOffshore:!0,account:{personal:{owner:"Garry Green",number:"0123456789",balance:48569,theme:"dark",favoriteAccounts:[{name:"Lena Silvo",number:"0123456789"},{name:"Owen Chapman",number:"1234567890"},{name:"Pamela Padilla",number:"2345678901"},{name:"Garry Green",number:"3456789012"},{name:"Quentin Cooper",number:"4567890123"}],logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},enterprise:{owner:"Arthur Popov",balance:485321,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},offshore:{owner:"Quentin Cooper",balance:4123547,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]}}},A=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0}),W=new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"});function z(t){switch(t){case"fleeca":document.documentElement.classList.add("fleeca");break;case"maze":document.documentElement.classList.add("maze");break;default:throw new Error("The theme is not valid")}}z(b.bank);function G(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer un nom":t.validity.tooLong?e.textContent="Le nom ne doit pas exeder 40 caract\xE8res":e.textContent="Il y a une erreur",!1)}function P(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer un num\xE9ro de compte":t.validity.tooShort||t.validity.tooLong?e.textContent="Le num\xE9ro de compte doit comporter 10 chiffres":t.validity.patternMismatch?e.textContent="Le num\xE9ro de compte ne comporte que des chiffres":e.textContent="Il y a une erreur",!1)}function f(t,e){if(t.validity.valid){if(Number(t.value)<50)return e.textContent="Le montant doit \xEAtre sup\xE9rieur o\xF9 \xE9gale \xE0 50$",!1}else return t.validity.valueMissing?e.textContent="Veuillez entrer un montant":t.validity.patternMismatch?e.textContent="Le montant ne doit comporter que des chiffres":e.textContent="Il y a une erreur",!1;return e.textContent.length>0&&(e.textContent=""),!0}function I(t,e,a){const o=Number(t.value);return a<o?(e.textContent="Vous n'avez pas les fonds n\xE9cessaires",!1):!0}function $(t,e){return t.validity.valid?(e.textContent.length>0&&(e.textContent=""),!0):(t.validity.valueMissing?e.textContent="Veuillez entrer la r\xE9f\xE9rence du transfert":t.validity.tooLong?e.textContent="La r\xE9f\xE9rence du transfert ne doit exeder 40 caract\xE8res":e.textContent="Il y a une erreur",!1)}const U=document.getElementById("log-template"),v=10;class S{constructor(e,a){this.logList=a,this.logs=e,this.page=1,this.observer=new IntersectionObserver(o=>this.getNextPage(o)),this.observedLog=!1,this.getPageNumber(),this.getPageLogs(),this.createPageLogs()}addLog(e){this.logs.unshift(e),this.resetList()}createLog(e,a=!1,o=!1){const n=U.content.cloneNode(!0),r=n.querySelector(".log"),s=r.querySelector(".log__icon"),l=r.querySelector(".log__type"),h=r.querySelector(".log__date"),i=r.querySelector(".log__amount"),u=r.querySelector(".log__reference");s.classList.add(`log__icon--${e.type}`),i.classList.add(`log__amount--${e.amount>0?"up":"down"}`),l.textContent=e.label,h.textContent=W.format(new Date(e.date)),i.textContent=A.format(e.amount),u.textContent=e.reference,a?this.logList.prepend(n):this.logList.appendChild(n),o&&(this.observedLog=r,this.observer.observe(r))}createPageLogs(){this.observedLog&&(this.observer.unobserve(this.observedLog),this.observedLog=!1),this.pageLogs.forEach((e,a)=>{const o=a===this.pageLogs.length-1,n=this.page<this.pageNumber;o&&n?this.createLog(e,!1,!0):this.createLog(e)})}getNextPage(e){e[0].isIntersecting&&(this.page+=1,this.getPageLogs(),this.createPageLogs())}getPageNumber(){const e=this.logs.length;this.pageNumber=Math.ceil(e/v)}getPageLogs(){const e=v*(this.page-1),a=v*this.page;this.pageLogs=this.logs.slice(e,a)}resetList(){this.logList.innerHTML="",this.page=1,this.getPageLogs(),this.createPageLogs()}}const B=document.getElementById("account-delete-list"),H=document.getElementById("account-delete-template"),F=document.getElementById("account-paste-list"),Q=document.getElementById("account-paste-template"),K=document.getElementById("personal-favorite-account-sum-text"),p=document.getElementById("personal-favorite-account-form-button"),j=5;class J{constructor(e){this.accounts=e,this.createList(),this.handleAddButton()}addAccount(e){if(this.accounts.length<j)this.accounts=[e,...this.accounts],this.resetList();else throw new Error("Account limit is reached")}deleteAccount(e){this.accounts=this.accounts.filter(a=>a.number!==e.number),this.resetList()}createDeleteAccount(e){const a=H.content.cloneNode(!0),o=a.querySelector(".account"),n=o.querySelector(".account__name"),r=o.querySelector(".account__number"),s=o.querySelector(".account__text-button");n.textContent=e.name,r.textContent=e.number,s.addEventListener("click",()=>{this.deleteAccount(e)},{once:!0}),B.appendChild(a)}createPasteAccount(e){const a=Q.content.cloneNode(!0),o=a.querySelector(".account"),n=o.querySelector(".account__name"),r=o.querySelector(".account__number");n.textContent=e.name,r.textContent=e.number,o.addEventListener("click",()=>{L.value!==e.number&&(L.value=e.number)}),F.appendChild(a)}createList(){this.accounts.forEach(e=>{this.createDeleteAccount(e),this.createPasteAccount(e)})}resetList(){B.innerHTML="",F.innerText="",this.createList(),this.handleAddButton()}handleAddButton(){const e=this.accounts.length;K.textContent=`[${String(e)}/5]`,e>=5?p.classList.contains("button--primary")&&(p.classList.replace("button--primary","button--disabled"),p.setAttribute("disabled","")):p.classList.contains("button--disabled")&&(p.classList.replace("button--disabled","button--primary"),p.removeAttribute("disabled"))}}const k=document.getElementById("personal-theme-button");class w{constructor(e,a,o,n){this.owner=e.owner,this.ownerElement=a,this.balance=e.balance,this.balanceElement=o,this.logList=new S(e.logs,n),this.displayOwner(),this.displayBalance()}displayOwner(){this.ownerElement.textContent=this.owner}displayBalance(){this.balance<1?this.balanceElement.classList.contains("section__number--up")?this.balanceElement.classList.replace("section__number--up","section__number--down"):this.balanceElement.classList.contains("section__number--down")||this.balanceElement.classList.add("section__number--down"):this.balanceElement.classList.contains("section__number--down")?this.balanceElement.classList.replace("section__number--down","section__number--up"):this.balanceElement.classList.contains("section__number--up")||this.balanceElement.classList.add("section__number--up"),this.balanceElement.textContent=A.format(this.balance)}}class X extends w{constructor(e,a,o,n,r,s){super(e,a,o,n),this.number=e.number,this.numberElement=r,this.theme=e.theme,this.theme==="dark"&&(k.checked=!0,document.documentElement.classList.add("dark")),this.favoriteAccountList=new J(e.favoriteAccounts),this.operationLogList=new S(e.logs.filter(l=>l.type==="operation"),s),this.displayNumber()}displayNumber(){this.numberElement.textContent=this.number}displayBalance(){this.balance<1?this.balanceElement.classList.contains("balance__value--down")||this.balanceElement.classList.add("balance__value--down"):this.balanceElement.classList.contains("balance__value--down")&&this.balanceElement.classList.remove("balance__value--down"),this.balanceElement.textContent=A.format(this.balance)}}const Y=document.getElementById("personal-deposit-form"),Z=document.getElementById("personal-withdraw-form"),ee=document.getElementById("personal-transfer-form"),_=document.getElementById("personal-deposit-amount-input"),te=document.getElementById("personal-deposit-amount-message"),E=document.getElementById("personal-withdraw-amount-input"),D=document.getElementById("personal-withdraw-amount-message"),T=document.getElementById("personal-transfer-amount-input"),R=document.getElementById("personal-transfer-amount-message"),L=document.getElementById("personal-transfer-account-number-input"),ne=document.getElementById("personal-transfer-account-number-message"),x=document.getElementById("personal-transfer-reference-input"),ae=document.getElementById("personal-transfer-reference-message"),oe=document.getElementById("personal-favorite-account-form"),N=document.getElementById("personal-favorite-account-name-input"),re=document.getElementById("personal-favorite-account-name-message"),O=document.getElementById("personal-favorite-account-number-input"),se=document.getElementById("personal-favorite-account-number-message");function g(){return new Date().toISOString()}const c=new X(b.account.personal,document.getElementById("personal-account-owner"),document.getElementById("personal-account-balance"),document.getElementById("personal-account-log-list"),document.getElementById("personal-account-number"),document.getElementById("personal-account-operation-log-list"));function ce(t){c.theme=t.target.checked?"dark":"light",c.theme==="dark"?document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"):document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark")}function le(t){t.preventDefault();const e=G(N,re),a=P(O,se);if(e&&a){const o={name:N.value,number:O.value};c.favoriteAccountList.addAccount(o)}}function ie(t){if(t.preventDefault(),f(_,te)){const a=Number(_.value),o={label:"D\xE9pot",amount:a,date:g(),reference:"D\xE9pot sur votre compte",type:"operation"};c.logList.addLog(o),c.operationLogList.addLog(o),c.balance+=a,c.displayBalance()}}function ue(t){t.preventDefault();const e=f(E,D),a=e?I(E,D,c.balance):!1;if(e&&a){const o=Number(E.value),n={label:"Retrait",amount:-o,date:g(),reference:"Retrait depuis votre compte",type:"operation"};c.logList.addLog(n),c.operationLogList.addLog(n),c.balance-=o,c.displayBalance()}}function me(t){t.preventDefault();const e=f(T,R),a=e?I(T,R,c.balance):!1,o=P(L,ne),n=$(x,ae);if(e&&a&&o&&n){const r=Number(T.value);L.value;const s=x.value,l={label:"Transfert",amount:-r,date:g(),reference:s,type:"operation"};c.logList.addLog(l),c.balance-=r,c.displayBalance()}}k.addEventListener("change",ce);oe.addEventListener("submit",le);Y.addEventListener("submit",ie);Z.addEventListener("submit",ue);ee.addEventListener("submit",me);{let l=function(i){if(i.preventDefault(),f(a,o)){const d=Number(a.value),m={label:"D\xE9pot",amount:d,date:g(),reference:"D\xE9pot sur votre compte",type:"operation"};s.logList.addLog(m),s.balance+=d,s.displayBalance()}},h=function(i){i.preventDefault();const u=f(n,r),d=u?I(n,r,s.balance):!1;if(u&&d){const m=Number(n.value),y={label:"Retrait",amount:-m,date:g(),reference:"Retrait depuis votre compte",type:"operation"};s.logList.addLog(y),s.balance-=m,s.displayBalance()}};var handleEnterpriseDepositForm=l,handleEnterpriseWithdrawForm=h;const t=document.getElementById("enterprise-deposit-form"),e=document.getElementById("enterprise-withdraw-form"),a=document.getElementById("enterprise-deposit-amount-input"),o=document.getElementById("enterprise-deposit-amount-message"),n=document.getElementById("enterprise-withdraw-amount-input"),r=document.getElementById("enterprise-withdraw-amount-message"),s=new w(b.account.enterprise,document.getElementById("enterprise-account-owner"),document.getElementById("enterprise-account-balance"),document.getElementById("enterprise-account-log-list"));t.addEventListener("submit",l),e.addEventListener("submit",h);{let y=function(M){if(M.preventDefault(),f(u,d)){const C=Number(u.value),V={label:"D\xE9pot",amount:C,date:g(),reference:"D\xE9pot sur votre compte",type:"operation"};m.logList.addLog(V),m.balance+=C,m.displayBalance()}};var handleOffshoreDepositForm=y;const i=document.getElementById("offshore-deposit-form"),u=document.getElementById("offshore-deposit-amount-input"),d=document.getElementById("offshore-deposit-amount-message"),m=new w(b.account.offshore,document.getElementById("offshore-account-owner"),document.getElementById("offshore-account-balance"),document.getElementById("offshore-account-log-list"));i.addEventListener("submit",y)}}const de=document.getElementById("app");setTimeout(()=>{de.classList.replace("app--loading","app--loaded")},1e3);
