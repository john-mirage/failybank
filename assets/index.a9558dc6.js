const pe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};pe();const b={bank:"fleeca",hasEnterprise:!0,hasOffshore:!0,account:{personal:{owner:"Garry Green",number:"0123456789",balance:48569,cash:4e4,theme:"dark",favoriteAccounts:[{name:"Lena Silvo",number:"0123456789"},{name:"Owen Chapman",number:"1234567890"},{name:"Pamela Padilla",number:"2345678901"},{name:"Garry Green",number:"3456789012"},{name:"Quentin Cooper",number:"4567890123"}],logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},enterprise:{owner:"Arthur Popov",balance:485321,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]},offshore:{owner:"Quentin Cooper",balance:4123547,logs:[{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"},{label:"D\xE9pot",amount:15e3,date:"2022-04-19T15:00",reference:"Failygames",type:"operation"},{label:"Retrait",amount:-5e3,date:"2022-04-15T15:00",reference:"American Restaurant Company",type:"operation"},{label:"Transfert",amount:-8e3,date:"2022-04-14T15:00",reference:"Owen Chapman",type:"transfer"}]}}},X=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always",maximumFractionDigits:0}),fe=new Intl.DateTimeFormat("fr-FR",{dateStyle:"long",timeStyle:"short"});class _{constructor(e,t,n){this.owner=e.owner,this.ownerElement=t,this.balance=e.balance,this.balanceElement=n,this.balanceNegativeClass="balance__value--negative",this.displayOwner(),this.displayBalance()}displayOwner(){this.ownerElement.textContent=this.owner}displayBalance(){this.balance<1?this.balanceElement.classList.contains(this.balanceNegativeClass)||this.balanceElement.classList.add(this.balanceNegativeClass):this.balanceElement.classList.contains(this.balanceNegativeClass)&&this.balanceElement.classList.remove(this.balanceNegativeClass),this.balanceElement.textContent=X.format(this.balance)}}class he extends _{constructor(e,t,n,o){super(e,t,o),this.balanceNegativeClass="section__balance--negative",this.accountNumber=e.number,this.accountNumberElement=n,this.cash=e.cash,this.theme=e.theme,this.displayNumber()}displayNumber(){this.accountNumberElement.textContent=this.accountNumber}}const k=10;class D{constructor(e,t){this.logs=e,this.logListElement=t,this.logTemplate=document.getElementById("log-template"),this.filteredLogs=!1,this.filter=!1,this.page=1,this.observer=new IntersectionObserver(n=>this.getNextPage(n)),this.observedLogElement=!1,this.getNextPage=this.getNextPage.bind(this)}addLog(e){this.logs.unshift(e)}createLog(e){const n=this.logTemplate.content.cloneNode(!0).querySelector(".log"),o=n.querySelector(".log__icon"),i=n.querySelector(".log__type"),l=n.querySelector(".log__date"),I=n.querySelector(".log__amount"),L=n.querySelector(".log__reference");return o.classList.add(`log__icon--${e.type}`),I.classList.add(`log__amount--${e.amount>0?"up":"down"}`),i.textContent=e.label,l.textContent=fe.format(new Date(e.date)),I.textContent=X.format(e.amount),L.textContent=e.reference,n}createPageLogs(e){e.forEach((t,n)=>{const o=n===e.length-1,i=this.page<this.pageTotal,l=this.createLog(t);o&&i&&(this.observeLastPageLog(l),this.observedLogElement=l),this.logListElement.appendChild(l)})}getNextPage(e){e[0].isIntersecting&&(this.page+=1,this.unobserveLastPageLog(),this.filter?this.displayFilteredLogs():this.displayLogs())}getPageTotal(e){const t=e.length;this.pageTotal=Math.ceil(t/k)}getPageLogs(e){const t=k*(this.page-1),n=k*this.page;return e.slice(t,n)}getFilteredLogs(){return this.logs.filter(e=>e.type===this.filter)}displayInitialLogs(){this.filter?(this.filteredLogs=this.getFilteredLogs(),this.getPageTotal(this.filteredLogs),this.displayFilteredLogs()):(this.getPageTotal(this.logs),this.displayLogs())}displayFilteredLogs(){const e=this.getPageLogs(this.filteredLogs);this.createPageLogs(e)}displayLogs(){const e=this.getPageLogs(this.logs);this.createPageLogs(e)}reset(){this.clear(),this.displayInitialLogs()}clear(){this.unobserveLastPageLog(),this.logListElement.scrollTop=0,this.logListElement.innerHTML="",this.page>1&&(this.page=1)}observeLastPageLog(e){this.observedLogElement||(this.observer.observe(e),this.observedLogElement=e)}unobserveLastPageLog(){this.observedLogElement&&(this.observer.unobserve(this.observedLogElement),this.observedLogElement=!1)}}class y{constructor(e,t,n){this.inputElements=e,this.formElement=t,this.buttonElement=n,this.buttonIsActive=!1,this.CheckFieldsWithDebounce=this.debounce(()=>this.checkFields()),this.inputElements.forEach(o=>{o.addEventListener("keyup",()=>this.CheckFieldsWithDebounce())})}debounce(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,o)},t)}}checkFields(){const e=this.inputElements.every(t=>t.validity.valid);e&&!this.buttonIsActive?this.activateSubmitButton():!e&&this.buttonIsActive&&this.deactivateSubmitButton()}reset(){this.formElement.reset(),this.deactivateSubmitButton()}activateSubmitButton(){this.buttonIsActive=!0,this.buttonElement.classList.replace("button--disabled","button--primary"),this.buttonElement.removeAttribute("disabled")}deactivateSubmitButton(){this.buttonIsActive=!1,this.buttonElement.classList.replace("button--primary","button--disabled"),this.buttonElement.setAttribute("disabled","")}}class be{constructor(e,t){this.notificationListElement=e,this.notificationTemplate=document.getElementById("notification-template")}createNotification(e){const t=this.notificationTemplate.content.cloneNode(!0),n=t.querySelector(".notification"),o=t.querySelector(".notification__title"),i=t.querySelector(".notification__description");return n.classList.add(`notification--${e.type}`),o.textContent=e.title,i.textContent=e.description,n}deleteNotification(e){this.notificationListElement.removeChild(e)}displayNotification(e){const t=this.createNotification(e);this.notificationListElement.prepend(t),setTimeout(()=>{this.deleteNotification(t)},5e3)}}class T{constructor(e,t,n,o=!1){this.label=e,this.name=t,this.handleClick=n,this.temporary=o,this.element=this.createElement(),this.temporary&&this.activate()}createElement(){const e=document.createElement("button");return e.classList.add("tab"),e.textContent=this.label,e.addEventListener("click",()=>{this.handleClick()}),e}activate(){this.element.classList.add("tab--active"),this.element.setAttribute("disabled","")}disable(){this.element.classList.remove("tab--active"),this.element.removeAttribute("disabled")}}class ge{constructor(e,t){this.initialTabs=e,this.tabListElement=t,this.activeTab=e[0],this.createInitialTabs()}addTab(e){this.tabListElement.appendChild(e.element)}deleteTab(e){this.tabListElement.removeChild(e.element)}createInitialTabs(){this.initialTabs.forEach(e=>{this.tabListElement.appendChild(e.element)}),this.activeTab.activate()}setActiveTab(e){this.activeTab.temporary?this.deleteTab(this.activeTab):this.activeTab.disable(),this.activeTab=e,this.activeTab.temporary?this.addTab(this.activeTab):this.activeTab.activate()}}class P{constructor(e){this.detailsElement=e,this.summaryElement=this.detailsElement.querySelector(".dropdown__header"),this.closeWhenClickOutside=this.closeWhenClickOutside.bind(this),this.handleChange=this.handleChange.bind(this),this.detailsElement.addEventListener("toggle",this.handleChange)}close(){this.detailsElement.removeAttribute("open")}updateLabel(e){this.summaryElement.textContent=e}closeWhenClickOutside(e){this.detailsElement.contains(e.target)||this.close()}handleChange(){this.detailsElement.open?document.addEventListener("click",this.closeWhenClickOutside):document.removeEventListener("click",this.closeWhenClickOutside)}reset(){this.summaryElement.textContent="filtrer les r\xE9sultats"}}class f{constructor(e,t){this.name=e,this.value=t,this.element=this.createElement()}createElement(){const e=document.createElement("button");return e.classList.add("filter"),e.textContent=this.name,e}activate(){this.element.classList.add("filter--active"),this.element.setAttribute("disabled","")}disable(){this.element.classList.remove("filter--active"),this.element.removeAttribute("disabled")}}class S{constructor(e,t,n){this.filters=e,this.filterListElement=t,this.handleFilterClick=n,this.displayFilters(),this.init()}displayFilters(){this.filters.forEach(e=>{this.filterListElement.appendChild(e.element),e.element.addEventListener("click",()=>{this.setActiveFilter(e),this.handleFilterClick(e)})})}setActiveFilter(e){this.activeFilter.disable(),this.activeFilter=e,this.activeFilter.activate()}init(){this.activeFilter=this.filters[0],this.activeFilter.activate()}reset(){this.setActiveFilter(this.filters[0])}}const ye=5;class ve{constructor(e){this.accounts=e}displayCount(e){const t=String(this.accounts.length);e.textContent!==t&&(e.textContent=t)}addAccount(e){if(this.accounts.length<ye)this.accounts=[e,...this.accounts];else throw new Error("Account limit is reached")}deleteAccount(e){this.accounts=this.accounts.filter(t=>t.number!==e.number)}}class Ee{constructor(e,t,n){this.accountList=e,this.accountListElement=t,this.accountListCountElement=document.getElementById("personal-favorite-account-count"),this.deleteFavoriteAccount=n,this.accountTemplate=document.getElementById("favorite-account-delete-template"),this.createAccount=this.createAccount.bind(this)}createAccount(e){const t=this.accountTemplate.content.cloneNode(!0),n=t.querySelector(".favorite-account"),o=n.querySelector(".favorite-account__name"),i=n.querySelector(".favorite-account__number");n.querySelector(".favorite-account__icon-button--delete").addEventListener("click",()=>{this.deleteFavoriteAccount(e)}),o.textContent=e.name,i.textContent=e.number,this.accountListElement.appendChild(t)}createAccounts(){this.accountList.accounts.forEach(this.createAccount),this.accountList.displayCount(this.accountListCountElement)}reset(){this.clear(),this.createAccounts()}clear(){this.accountListElement.innerHTML=""}}class Le{constructor(e,t,n){this.accountList=e,this.accountListElement=t,this.accountListCountElement=document.getElementById("personal-transfer-favorite-account-count"),this.pasteAccountNumber=n,this.accountTemplate=document.getElementById("favorite-account-paste-template"),this.createAccount=this.createAccount.bind(this)}createAccount(e){const t=this.accountTemplate.content.cloneNode(!0),n=t.querySelector(".favorite-account"),o=n.querySelector(".favorite-account__name"),i=n.querySelector(".favorite-account__number");o.textContent=e.name,i.textContent=e.number,n.addEventListener("click",()=>{this.pasteAccountNumber(e.number)}),this.accountListElement.appendChild(t)}createAccounts(){this.accountList.accounts.forEach(this.createAccount),this.accountList.displayCount(this.accountListCountElement)}reset(){this.clear(),this.createAccounts()}clear(){this.accountListElement.innerHTML=""}}class A{constructor(e,t,n,o,i){this.viewElement=e,this.filterDropdown=t,this.filterList=n,this.logList=o,this.favoriteAccountList=i}activate(){this.viewElement.classList.add("view--active"),this.logList&&(this.logList.logListElement.scrollTop=0,this.logList.displayInitialLogs()),this.favoriteAccountList&&this.favoriteAccountList.createAccounts()}deactivate(){this.viewElement.classList.remove("view--active"),this.filterDropdown&&this.filterDropdown.reset(),this.filterList&&this.filterList.reset(),this.logList&&(this.logList.filter&&(this.logList.filter=!1),this.logList.clear()),this.favoriteAccountList&&this.favoriteAccountList.clear()}}class we{constructor(e){this.activeView=e,this.activeView.activate()}switch(e){this.activeView.deactivate(),this.activeView=e,this.activeView.activate()}}function Te(a){switch(a){case"fleeca":document.documentElement.classList.add("fleeca");break;case"maze":document.documentElement.classList.add("maze");break;default:throw new Error("The theme is not valid")}}Te(b.bank);function h(){return new Date().toISOString()}const s=new he(b.account.personal,document.getElementById("personal-account-owner"),document.getElementById("personal-account-number"),document.getElementById("personal-account-balance"));if(s.theme==="dark"){const a=document.getElementById("personal-theme-button");a.checked=!0,document.documentElement.classList.add("dark")}const p=new D(b.account.personal.logs,document.getElementById("personal-log-list")),v=new D(b.account.personal.logs.filter(a=>a.type==="operation"),document.getElementById("personal-operation-log-list")),x=new y([document.getElementById("personal-favorite-account-name-input"),document.getElementById("personal-favorite-account-number-input")],document.getElementById("personal-favorite-account-form"),document.getElementById("personal-favorite-account-form-button")),V=new y([document.getElementById("personal-deposit-amount-input")],document.getElementById("personal-deposit-form"),document.getElementById("personal-deposit-form-button")),q=new y([document.getElementById("personal-withdraw-amount-input")],document.getElementById("personal-withdraw-form"),document.getElementById("personal-withdraw-form-button")),B=new y([document.getElementById("personal-transfer-amount-input"),document.getElementById("personal-transfer-account-number-input"),document.getElementById("personal-transfer-reference-input")],document.getElementById("personal-transfer-form"),document.getElementById("personal-transfer-form-button")),r=new be(document.getElementById("notification-list")),W=new P(document.getElementById("personal-filter-dropdown")),Ae=new f("Aucun",!1),Ce=new f("Op\xE9rations","operation"),Ie=new f("Transferts","transfer");function Fe(a){p.filter=a.value,p.reset(),W.close(),W.updateLabel(a.value?`filtre: ${a.name}`:"filtrer les r\xE9sultats")}const De=new S([Ae,Ce,Ie],document.getElementById("personal-filter-list"),Fe),E=new ve(b.account.personal.favoriteAccounts);function Be(a){E.deleteAccount(a),$.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait supprim\xE9 avec succ\xE8s",type:"success"})}const J=document.getElementById("personal-transfer-account-number-input");function Ne(a){J.value!==a&&(J.value=a,B.checkFields())}const $=new Ee(E,document.getElementById("delete-favorite-account-list"),Be),Re=new Le(E,document.getElementById("paste-favorite-account-list"),Ne);function Oe(){c.setActiveTab(Z),C.switch(Y)}function ke(){c.setActiveTab(ee),C.switch(Pe)}function _e(){c.setActiveTab(te),C.switch(Se)}const Y=new A(document.getElementById("personal-view"),W,De,p,$),Pe=new A(document.getElementById("personal-operation-view"),!1,!1,v,!1),Se=new A(document.getElementById("personal-transfer-view"),!1,!1,!1,Re),C=new we(Y),Z=new T("mon compte","personal",Oe),ee=new T("op\xE9ration","personal-operation",ke),te=new T("transfert","transfer",_e),c=new ge([Z,ee,te],document.getElementById("tab-list"));function xe(a){s.theme=a.target.checked?"dark":"light",s.theme==="dark"?document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"):document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark")}const Ve=document.getElementById("personal-theme-button");function qe(a){a.preventDefault();const e=new FormData(x.formElement),t={name:e.get("name"),number:e.get("number")},n=E.accounts.length<5,o=E.accounts.find(i=>i.number===t)===-1;n&&o?(E.addAccount(t),$.reset(),x.reset(),r.displayNotification({title:"Compte favoris",description:"le compte a \xE9tait enregistr\xE9 avec succ\xE8s",type:"success"})):n?o||r.displayNotification({title:"Compte favoris",description:`Le compte ${t.number} existe deja dans la liste`,type:"error"}):r.displayNotification({title:"Compte favoris",description:"Limite de compte favoris enregistr\xE9s atteinte",type:"error"})}function We(a){a.preventDefault();const e=new FormData(V.formElement),t=Number(e.get("amount"));if(s.cash>t){const n={label:"D\xE9pot",amount:t,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(n),c.activeTab.name==="personal"&&p.reset(),v.addLog(n),c.activeTab.name==="personal-operation"&&v.reset(),s.cash-=t,s.balance+=t,s.displayBalance(),V.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})}function $e(){if(s.cash>0){const a={label:"D\xE9pot",amount:s.cash,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};p.addLog(a),c.activeTab.name==="personal"&&p.reset(),v.addLog(a),c.activeTab.name==="personal-operation"&&v.reset(),s.cash=0,r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})}function Ge(a){a.preventDefault();const e=new FormData(q.formElement),t=Number(e.get("amount"));if(s.balance>=t){const n={label:"Retrait",amount:-t,date:h(),reference:"Retrait depuis votre compte",type:"operation"};p.addLog(n),c.activeTab.name==="personal"&&p.reset(),v.addLog(n),c.activeTab.name==="personal-operation"&&v.reset(),s.cash+=t,s.balance-=t,s.displayBalance(),q.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}function Me(a){a.preventDefault();const e=new FormData(B.formElement),t=Number(e.get("amount"));if(s.balance>=t){const n={label:"Transfert",amount:-t,date:h(),reference:e.get("reference"),type:"operation"};p.addLog(n),c.activeTab.name==="personal"&&p.reset(),s.balance-=t,s.displayBalance(),B.reset(),r.displayNotification({title:"Transfert",description:"le transfert a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Transfert",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})}const ze=document.getElementById("personal-all-deposit-button");x.formElement.addEventListener("submit",qe);V.formElement.addEventListener("submit",We);ze.addEventListener("click",$e);q.formElement.addEventListener("submit",Ge);B.formElement.addEventListener("submit",Me);Ve.addEventListener("click",xe);{let l=function(m){e.filter=m.value,e.reset(),t.close(),t.updateLabel(m.value?`filtre: ${m.name}`:"filtrer les r\xE9sultats")},G=function(){c.setActiveTab(M),C.switch(ne)},z=function(m){m.preventDefault();const d=new FormData(L.formElement),u=Number(d.get("amount"));if(s.cash>u){const w={label:"D\xE9pot",amount:u,date:h(),reference:"D\xE9pot sur votre compte",type:"operation"};e.addLog(w),c.activeTab.name==="enterprise"&&e.reset(),s.cash-=u,a.balance+=u,a.displayBalance(),L.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},H=function(){if(s.cash>0){const m={label:"D\xE9pot",amount:s.cash,date:h(),reference:"D\xE9pot le compte de l'entreprise",type:"operation"};e.addLog(m),c.activeTab.name==="enterprise"&&e.reset(),s.cash=0,a.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})},U=function(m){m.preventDefault();const d=new FormData(N.formElement),u=Number(d.get("amount"));if(a.balance>u){const w={label:"Retrait",amount:-u,date:h(),reference:"Retrait depuis le compte de l'entreprise",type:"operation"};e.addLog(w),c.activeTab.name==="enterprise"&&e.reset(),s.cash+=u,a.balance-=u,a.displayBalance(),N.reset(),r.displayNotification({title:"Retrait",description:"le retrait a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"Retrait",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur votre compte",type:"error"})};var setEnterpriseLogListFilter=l,showEnterpriseView=G,depositToEnterpriseAccount=z,depositAllToEnterpriseAccount=H,withdrawToEnterpriseAccount=U;const a=new _(b.account.enterprise,document.getElementById("enterprise-account-owner"),document.getElementById("enterprise-account-balance")),e=new D(b.account.enterprise.logs,document.getElementById("enterprise-log-list")),t=new P(document.getElementById("enterprise-filter-dropdown")),n=new f("Aucun",!1),o=new f("Op\xE9rations","operation"),i=new f("Transferts","transfer"),I=new S([n,o,i],document.getElementById("enterprise-filter-list"),l),L=new y([document.getElementById("enterprise-deposit-amount-input")],document.getElementById("enterprise-deposit-form"),document.getElementById("enterprise-deposit-form-button")),N=new y([document.getElementById("enterprise-withdraw-amount-input")],document.getElementById("enterprise-withdraw-form"),document.getElementById("enterprise-withdraw-form-button")),M=new T("entreprise","enterprise",G);c.addTab(M);const ne=new A(document.getElementById("enterprise-view"),t,I,e,!1),ae=document.getElementById("enterprise-all-deposit-button");L.formElement.addEventListener("submit",z),N.formElement.addEventListener("submit",U),ae.addEventListener("click",H);{let Q=function(g){d.filter=g.value,d.reset(),u.close(),u.updateLabel(g.value?`filtre: ${g.name}`:"filtrer les r\xE9sultats")},O=function(){c.setActiveTab(re),C.switch(le)},j=function(g){g.preventDefault();const ue=new FormData(R.formElement),F=Number(ue.get("amount"));if(s.cash>F){const de={label:"D\xE9pot",amount:F,date:h(),reference:"D\xE9pot sur le compte offshore",type:"operation"};d.addLog(de),c.activeTab.name==="offshore"&&d.reset(),s.cash-=F,m.balance+=F,m.displayBalance(),R.reset(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous ne dispos\xE9 pas des fonds n\xE9cessaires sur vous",type:"error"})},K=function(){if(s.cash>0){const g={label:"D\xE9pot",amount:s.cash,date:h(),reference:"D\xE9pot sur le compte offshore",type:"operation"};d.addLog(g),c.activeTab.name==="offshore"&&d.reset(),s.cash=0,m.displayBalance(),r.displayNotification({title:"D\xE9pot",description:"le d\xE9pot a \xE9tait \xE9ffectu\xE9 avec succ\xE8s",type:"success"})}else r.displayNotification({title:"D\xE9pot",description:"Vous n'avez pas d'argent sur vous",type:"error"})};var setOffshoreLogListFilter=Q,showOffshoreView=O,depositToOffshoreAccount=j,depositAllToOffshoreAccount=K;const m=new _(b.account.offshore,document.getElementById("offshore-account-owner"),document.getElementById("offshore-account-balance")),d=new D(b.account.offshore.logs,document.getElementById("offshore-log-list")),u=new P(document.getElementById("offshore-filter-dropdown")),w=new f("Aucun",!1),oe=new f("Op\xE9rations","operation"),se=new f("Transferts","transfer"),ie=new S([w,oe,se],document.getElementById("offshore-filter-list"),Q),R=new y([document.getElementById("offshore-deposit-amount-input")],document.getElementById("offshore-deposit-form"),document.getElementById("offshore-deposit-form-button")),re=new T("offshore","offshore",O,!0),ce=document.getElementById("offshore-tab-button"),le=new A(document.getElementById("offshore-view"),u,ie,d,!1),me=document.getElementById("offshore-all-deposit-button");ce.addEventListener("click",O),R.formElement.addEventListener("submit",j),me.addEventListener("click",K)}}const He=document.getElementById("app");setTimeout(()=>{He.classList.replace("app--loading","app--loaded")},500);
